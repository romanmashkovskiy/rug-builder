function showCorrectForm(t){switch(t){case"general":$(".contact-form #press").addClass("__hidden"),$(".contact-form #trade").addClass("__hidden"),$('.page-image img[data-tag="press"]').addClass("__hidden"),$('.page-image img[data-tag="trade"]').addClass("__hidden"),setTimeout(function(){$(".contact-form #press").addClass("__noHeight"),$(".contact-form #trade").addClass("__noHeight")},250);break;case"press":$(".contact-form #trade").addClass("__hidden"),$(".contact-form #general").addClass("__hidden"),$('.page-image img[data-tag="general"]').addClass("__hidden"),$('.page-image img[data-tag="trade"]').addClass("__hidden"),setTimeout(function(){$(".contact-form #trade").addClass("__noHeight"),$(".contact-form #general").addClass("__noHeight")},250);break;case"trade":$(".contact-form #press").addClass("__hidden"),$(".contact-form #general").addClass("__hidden"),$('.page-image img[data-tag="press"]').addClass("__hidden"),$('.page-image img[data-tag="general"]').addClass("__hidden"),setTimeout(function(){$(".contact-form #press").addClass("__noHeight"),$(".contact-form #general").addClass("__noHeight")},250)}setTimeout(function(){$(".contact-form #"+t).removeClass("__noHeight"),$(".contact-form #"+t).removeClass("__hidden"),$('.page-image img[data-tag="'+t+'"]').removeClass("__hidden")},250)}function createMap(t,e,i){var o=""!==$(i).data("ukcenter")?"uk":"overseas",n=$(i).data("coordinates"),s=(!(!n||""===n)&&n.split("|"),$(i).data("overseas")),a=(!(!s||""===s)&&s.split("|"),$(i).data("pincoords")),r=a.split(","),l=new google.maps.Map(i,{center:t,zoom:e,disableDefaultUI:!0,zoomControl:!0,scrollwheel:!1}),h=[{stylers:[{hue:"#64B253"},{saturation:-80}]}];l.setOptions({styles:h});var d={scaledSize:new google.maps.Size(38,38),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(11,30),url:"https://d105txpzekqrfa.cloudfront.net/uploads/20161215113733/Combined-Shape-Copy.svg"};if(r.length>0)for(var c=[],p=[],u=[],f=0;f<r.length;f++)if(""!==r[f]){var g=r[f].split(" "),m=parseFloat(g[0]),v=parseFloat(g[1]),b="uk"===o?(f+1).toString():"";c[b]=new google.maps.Marker({position:{lat:m,lng:v},map:l,icon:d,label:b,title:"Hello mayne: "+b}),google.maps.event.addListener(c[b],"click",function(t){var e="#retailer_"+this.label,i=".retailer_"+this.label,o=$(e+" .r_title").text(),n=$(e+" .r_distance").text(),s=$(i+" .r_website").attr("href");console.log(s),p[this.label]=new google.maps.InfoWindow({content:"<div class='g-infowindow'>Hello World</div>"});var a="<div id='close' class='g-infobubble'><div class='g-infobubble__container'><div class='g-infobubble__container__body'><h4>"+o+"</h4><p>ddddddd</p></div><div class='g-infobubble__container__footer'><a href='"+s+"'>Visit Website</a><a>"+n+"</a></div></div>";u[this.label]=new InfoBubble({map:l,content:a,shadowStyle:1,padding:0,backgroundColor:"#ffffff",borderRadius:0,arrowSize:15,disableAutoPan:!0,hideCloseButton:!0,arrowPosition:30,backgroundClassName:"transparent",arrowStyle:2,maxHeight:154,maxWidth:395,closeSrc:"https://maps.gstatic.com/intl/en_us/mapfiles/iw_close.gif"}),u[this.label].open(l,c[this.label])})}}function startSlider(){for(var t,e=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="31px" height="59px" viewBox="0 0 31 59" version="1.1" class="prev-slide coir">','<g id="Home" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square" stroke="#7C7C7C">','<g id="vivid" transform="translate(-45.000000, -553.000000)" stroke="#7C7C7C">','<g id="slider-arrow" transform="translate(60.500000, 582.000000) rotate(-180.000000) translate(-60.500000, -582.000000) translate(46.000000, 553.000000)"  stroke="#7C7C7C">','<path d="M0.201388889,0.201388889 L28.8071201,28.8071201" id="Line"/>','<path d="M0,57.6057312 L28.6057312,29" id="Line"/>',"</g>","</g>","</g>","</svg>"],i=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="31px" height="58px" viewBox="0 0 31 58" version="1.1" class="next-slide coir">','<g id="Home" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square" stroke="#7C7C7C">','<g id="vivid" transform="translate(-1556.000000, -553.000000)" stroke="#7C7C7C">','<g id="slider-arrow" transform="translate(1557.000000, 553.000000)"  stroke="#7C7C7C">','<path d="M0.201388889,0.201388889 L28.8071201,28.8071201" id="Line"/>','<path d="M0,57.6057312 L28.6057312,29" id="Line"/>',"</g>","</g>","</g>","</svg>"],o=document.querySelectorAll(".material-view-slider ul li"),n=0;n<o.length;n++)if(o[n].hasAttribute("data-show")){t=o[n].dataset.show;break}var s;$(".slidee").data("total")>1&&(s=$(".material-view-slider ul#material-view-slider-list").bxSlider({mode:"fade",startSlide:t,nextSelector:"#material-view-slider-next",prevSelector:"#material-view-slider-prev",onSliderLoad:function(){var t=$(".slidee[data-show]").height();$(".material-view-slider").css("min-height",t+"px")},onSlideNext:function(){var t=$("#material-view-slider-prev-text h3").data("current"),e=$("#material-view-slider-prev-text h3").data("total"),i=t+1;i===e+1&&(i=1);var o=i+1,n=i-1;0===n&&(n=e),o===e+1&&(o=1),$("#material-prev-index").text(n),$("#material-next-index").text(o),$("#material-view-slider-prev-text h3").data("current",i);var s=this.getCurrentSlide(),a=$("#material-view-slider-list").children()[s],r=$(a).height();$(".material-view-slider").css("min-height",r+"px");var l=$(a).data("slug"),h=window.location.href,d=h.indexOf("/swatches"),c=d+10,p=h.substr(c),u=p.indexOf("/"),f=c+u+1,g=h.substr(0,f),m=g+l+"/";window.history.pushState(null,"",m)},onSlidePrev:function(){var t=$("#material-view-slider-prev-text h3").data("current"),e=$("#material-view-slider-prev-text h3").data("total"),i=t-1;0===i&&(i=e);var o=i+1,n=i-1;0===n&&(n=e),o===e+1&&(o=1),$("#material-prev-index").text(n),$("#material-next-index").text(o),$("#material-view-slider-prev-text h3").data("current",i);var s=this.getCurrentSlide(),a=$("#material-view-slider-list").children()[s],r=$(a).height();$(".material-view-slider").css("min-height",r+"px");var l=$(a).data("slug"),h=window.location.href,d=h.indexOf("/swatches"),c=d+10,p=h.substr(c),u=p.indexOf("/"),f=c+u+1,g=h.substr(0,f),m=g+l+"/";window.history.pushState(null,"",m)}})),window.onpopstate=function(t){var e=window.location.href,i=e.indexOf("/swatches"),o=i+10,n=e.substr(o),a=n.indexOf("/"),r=o+a+1,l=e.substring(r,e.length-1),h=$('.slidee[data-slug="'+l+'"]').data("index");s.goToSlide(h)},$(".range__goto").on("click",function(t){t.preventDefault(),t.stopPropagation();var e=$(this).parent().data("index");s.goToSlide(e);var i=s.getCurrentSlide(),o=$("#material-view-slider-list").children()[i],n=$(o).data("slug"),a=window.location.href,r=a.indexOf("/swatches"),l=r+10,h=a.substr(l),d=h.indexOf("/"),c=l+d+1,p=a.substr(0,c),u=p+n+"/";window.history.pushState(null,"",u);var f=i+1,g=$("#material-view-slider-prev-text h3").data("total"),m=f-1,v=f+1;return 0===m&&(m=g),v===g+1&&(v=1),$("#material-prev-index").text(m),$("#material-next-index").text(v),$("#material-view-slider-prev-text h3").data("current",f),!1}),$(".bx-prev").addClass("no-effect"),$(".bx-next").addClass("no-effect"),$(".bx-prev").html(e.join("")),$(".bx-next").html(i.join("")),clearInterval(sliderInterval)}function createSuperslider(){$("#super-slider").superslides({play:5e3,animation:"fade",animation_speed:1200}),clearInterval(superslidesInterval)}function showBasketPopup(t,e){$(".basketMessage").html(""),t?$(".basketMessage").html(e+' has been added to your <a href="'+siteURL+'/basket">basket</a>.'):$(".basketMessage").html("Sorry, an error has occured and "+e+" could not be added to your basket. Please try again."),$(".basketPopup").show()}function InfoBubble(t){this.extend(InfoBubble,google.maps.OverlayView),this.tabs_=[],this.activeTab_=null,this.baseZIndex_=100,this.isOpen_=!1;var e=t||{};void 0==e.backgroundColor&&(e.backgroundColor=this.BACKGROUND_COLOR_),void 0==e.borderColor&&(e.borderColor=this.BORDER_COLOR_),void 0==e.borderRadius&&(e.borderRadius=this.BORDER_RADIUS_),void 0==e.borderWidth&&(e.borderWidth=this.BORDER_WIDTH_),void 0==e.padding&&(e.padding=this.PADDING_),void 0==e.arrowPosition&&(e.arrowPosition=this.ARROW_POSITION_),void 0==e.disableAutoPan&&(e.disableAutoPan=!1),void 0==e.disableAnimation&&(e.disableAnimation=!1),void 0==e.minWidth&&(e.minWidth=this.MIN_WIDTH_),void 0==e.shadowStyle&&(e.shadowStyle=this.SHADOW_STYLE_),void 0==e.arrowSize&&(e.arrowSize=this.ARROW_SIZE_),void 0==e.arrowStyle&&(e.arrowStyle=this.ARROW_STYLE_),void 0==e.closeSrc&&(e.closeSrc=this.CLOSE_SRC_),this.buildDom_(),this.setValues(e)}!function(t,e){var i,o="superslides";i=function(i,o){this.options=e.extend({play:!1,animation_speed:600,animation_easing:"swing",animation:"slide",inherit_width_from:t,inherit_height_from:t,pagination:!0,hashchange:!1,scrollable:!0,elements:{preserve:".preserve",nav:".slides-navigation",container:".slides-container",pagination:".slides-pagination"}},o);var n=this,s=e("<div>",{class:"slides-control"}),a=1;this.$el=e(i),this.$container=this.$el.find(this.options.elements.container);var r={containers:function(){n.init?(n.$el.css({height:n.height}),n.$control.css({width:n.width*a,left:-n.width}),n.$container.css({})):(e("body").css({margin:0}),n.$el.css({position:"relative",overflow:"hidden",width:"100%",height:n.height}),n.$control.css({position:"relative",transform:"translate3d(0)",height:"100%",width:n.width*a,left:-n.width}),n.$container.css({display:"none",margin:"0",padding:"0",listStyle:"none",position:"relative",height:"100%"})),1===n.size()&&n.$el.find(n.options.elements.nav).hide()},images:function(){var t=n.$container.find("img").not(n.options.elements.preserve);t.removeAttr("width").removeAttr("height").css({"-webkit-backface-visibility":"hidden","-ms-interpolation-mode":"bicubic",position:"absolute",left:"0",top:"0","z-index":"-1","max-width":"none"}),t.each(function(){var t=n.image._aspectRatio(this),i=this;if(e.data(this,"processed"))n.image._scale(i,t),n.image._center(i,t);else{var o=new Image;o.onload=function(){n.image._scale(i,t),n.image._center(i,t),e.data(i,"processed",!0)},o.src=this.src}})},children:function(){var t=n.$container.children();t.is("img")&&(t.each(function(){if(e(this).is("img")){e(this).wrap("<div>");var t=e(this).attr("id");e(this).removeAttr("id"),e(this).parent().attr("id",t)}}),t=n.$container.children()),n.init||t.css({display:"none",left:2*n.width}),t.css({position:"absolute",overflow:"hidden",height:"100%",width:n.width,top:0,zIndex:0})}},l={slide:function(t,e){var i=n.$container.children();i.eq(t.upcoming_slide).css({left:t.upcoming_position,display:"block"}),n.$control.animate({left:t.offset},n.options.animation_speed,n.options.animation_easing,function(){n.size()>1&&(n.$control.css({left:-n.width}),i.eq(t.upcoming_slide).css({left:n.width,zIndex:2}),t.outgoing_slide>=0&&i.eq(t.outgoing_slide).css({left:n.width,display:"none",zIndex:0})),e()})},fade:function(t,e){var i=this,o=i.$container.children(),n=o.eq(t.outgoing_slide),s=o.eq(t.upcoming_slide);s.css({left:this.width,opacity:0,display:"block"}).animate({opacity:1},i.options.animation_speed,i.options.animation_easing),t.outgoing_slide>=0?n.animate({opacity:0},i.options.animation_speed,i.options.animation_easing,function(){i.size()>1&&(o.eq(t.upcoming_slide).css({zIndex:2}),t.outgoing_slide>=0&&o.eq(t.outgoing_slide).css({opacity:1,display:"none",zIndex:0})),e()}):(s.css({zIndex:2}),e())}};l=e.extend(l,e.fn.superslides.fx);var h={_centerY:function(t){var i=e(t);i.css({top:(n.height-i.height())/2})},_centerX:function(t){var i=e(t);i.css({left:(n.width-i.width())/2})},_center:function(t){n.image._centerX(t),n.image._centerY(t)},_aspectRatio:function(t){if(!t.naturalHeight&&!t.naturalWidth){var e=new Image;e.src=t.src,t.naturalHeight=e.height,t.naturalWidth=e.width}return t.naturalHeight/t.naturalWidth},_scale:function(t,i){i=i||n.image._aspectRatio(t);var o=n.height/n.width,s=e(t);o>i?s.css({height:n.height,width:n.height/i}):s.css({height:n.width*i,width:n.width})}},d={_setCurrent:function(t){if(n.$pagination){var e=n.$pagination.children();e.removeClass("current"),e.eq(t).addClass("current")}},_addItem:function(t){var i=t+1,o=i,s=n.$container.children().eq(t),a=s.attr("id");a&&(o=a),e("<a>",{href:"#"+o,text:o}).appendTo(n.$pagination)},_setup:function(){if(n.options.pagination&&1!==n.size()){var t=e("<nav>",{class:n.options.elements.pagination.replace(/^\./,"")});n.$pagination=t.appendTo(n.$el);for(var i=0;n.size()>i;i++)n.pagination._addItem(i)}},_events:function(){n.$el.on("click",n.options.elements.pagination+" a",function(t){t.preventDefault();var e,i=n._parseHash(this.hash);(e=n._upcomingSlide(i,!0))!==n.current&&n.animate(e,function(){n.start()})})}};return this.css=r,this.image=h,this.pagination=d,this.fx=l,this.animation=this.fx[this.options.animation],this.$control=this.$container.wrap(s).parent(".slides-control"),n._findPositions(),n.width=n._findWidth(),n.height=n._findHeight(),this.css.children(),this.css.containers(),this.css.images(),this.pagination._setup(),function(){return a=n._findMultiplier(),n.$el.on("click",n.options.elements.nav+" a",function(t){t.preventDefault(),n.stop(),e(this).hasClass("next")?n.animate("next",function(){n.start()}):n.animate("prev",function(){n.start()})}),e(document).on("keyup",function(t){37===t.keyCode&&n.animate("prev"),39===t.keyCode&&n.animate("next")}),e(t).on("resize",function(){setTimeout(function(){var t=n.$container.children();n.width=n._findWidth(),n.height=n._findHeight(),t.css({width:n.width,left:n.width}),n.css.containers(),n.css.images()},10)}),n.options.hashchange&&e(t).on("hashchange",function(){var t,e=n._parseHash();(t=n._upcomingSlide(e))>=0&&t!==n.current&&n.animate(t)}),n.pagination._events(),n.start(),n}()},i.prototype={_findWidth:function(){return e(this.options.inherit_width_from).width()},_findHeight:function(){return e(this.options.inherit_height_from).height()},_findMultiplier:function(){return 1===this.size()?1:3},_upcomingSlide:function(t,e){if(e&&!isNaN(t)&&(t-=1),/next/.test(t))return this._nextInDom();if(/prev/.test(t))return this._prevInDom();if(/\d/.test(t))return+t;if(t&&/\w/.test(t)){var i=this._findSlideById(t);return i>=0?i:0}return 0},_findSlideById:function(t){return this.$container.find("#"+t).index()},_findPositions:function(t,e){e=e||this,void 0===t&&(t=-1),e.current=t,e.next=e._nextInDom(),e.prev=e._prevInDom()},_nextInDom:function(){var t=this.current+1;return t===this.size()&&(t=0),t},_prevInDom:function(){var t=this.current-1;return 0>t&&(t=this.size()-1),t},_parseHash:function(e){return e=e||t.location.hash,e=e.replace(/^#/,""),e&&!isNaN(+e)&&(e=+e),e},size:function(){return this.$container.children().length},destroy:function(){return this.$el.removeData()},update:function(){this.css.children(),this.css.containers(),this.css.images(),this.pagination._addItem(this.size()),this._findPositions(this.current),this.$el.trigger("updated.slides")},stop:function(){clearInterval(this.play_id),delete this.play_id,this.$el.trigger("stopped.slides")},start:function(){var i=this;i.options.hashchange?e(t).trigger("hashchange"):this.animate(),this.options.play&&(this.play_id&&this.stop(),this.play_id=setInterval(function(){i.animate()},this.options.play)),this.$el.trigger("started.slides")},animate:function(e,i){var o=this,n={};if(!(this.animating||(this.animating=!0,void 0===e&&(e="next"),n.upcoming_slide=this._upcomingSlide(e),n.upcoming_slide>=this.size()))){if(n.outgoing_slide=this.current,n.upcoming_position=2*this.width,n.offset=-n.upcoming_position,("prev"===e||n.outgoing_slide>e)&&(n.upcoming_position=0,n.offset=0),o.size()>1&&o.pagination._setCurrent(n.upcoming_slide),o.options.hashchange){var s=n.upcoming_slide+1,a=o.$container.children(":eq("+n.upcoming_slide+")").attr("id");t.location.hash=a||s}o.$el.trigger("animating.slides",[n]),o.animation(n,function(){o._findPositions(n.upcoming_slide,o),"function"==typeof i&&i(),o.animating=!1,o.$el.trigger("animated.slides"),o.init||(o.$el.trigger("init.slides"),o.init=!0,o.$container.fadeIn("fast"))})}}},e.fn[o]=function(t,n){var s=[];return this.each(function(){var a,r,l;return a=e(this),r=a.data(o),l="object"==typeof t&&t,r||(s=a.data(o,r=new i(this,l))),"string"==typeof t&&"function"==typeof(s=r[t])?s=s.call(r,n):void 0}),s},e.fn[o].fx={}}(this,jQuery),function(t){var e={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};t.fn.bxSlider=function(o){if(0===this.length)return this;if(this.length>1)return this.each(function(){t(this).bxSlider(o)}),this;var n={},s=this,a=t(window).width(),r=t(window).height();if(!t(s).data("bxSlider")){var l=function(){t(s).data("bxSlider")||(n.settings=t.extend({},e,o),n.settings.slideWidth=parseInt(n.settings.slideWidth),n.children=s.children(n.settings.slideSelector),n.children.length<n.settings.minSlides&&(n.settings.minSlides=n.children.length),n.children.length<n.settings.maxSlides&&(n.settings.maxSlides=n.children.length),n.settings.randomStart&&(n.settings.startSlide=Math.floor(Math.random()*n.children.length)),n.active={index:n.settings.startSlide},n.carousel=n.settings.minSlides>1||n.settings.maxSlides>1,n.carousel&&(n.settings.preloadImages="all"),n.minThreshold=n.settings.minSlides*n.settings.slideWidth+(n.settings.minSlides-1)*n.settings.slideMargin,n.maxThreshold=n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin,n.working=!1,n.controls={},n.interval=null,n.animProp="vertical"===n.settings.mode?"top":"left",n.usingCSS=n.settings.useCSS&&"fade"!==n.settings.mode&&function(){for(var t=document.createElement("div"),e=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<e.length;i++)if(void 0!==t.style[e[i]])return n.cssPrefix=e[i].replace("Perspective","").toLowerCase(),n.animProp="-"+n.cssPrefix+"-transform",!0;return!1}(),"vertical"===n.settings.mode&&(n.settings.maxSlides=n.settings.minSlides),s.data("origStyle",s.attr("style")),s.children(n.settings.slideSelector).each(function(){t(this).data("origStyle",t(this).attr("style"))}),h())},h=function(){var e=n.children.eq(n.settings.startSlide);s.wrap('<div class="'+n.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),n.viewport=s.parent(),n.settings.ariaLive&&!n.settings.ticker&&n.viewport.attr("aria-live","polite"),n.loader=t('<div class="bx-loading" />'),n.viewport.prepend(n.loader),s.css({width:"horizontal"===n.settings.mode?1e3*n.children.length+215+"%":"auto",position:"relative"}),n.usingCSS&&n.settings.easing?s.css("-"+n.cssPrefix+"-transition-timing-function",n.settings.easing):n.settings.easing||(n.settings.easing="swing"),n.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),n.viewport.parent().css({maxWidth:u()}),n.settings.pager||n.settings.controls||n.viewport.parent().css({margin:"0 auto 0px"}),n.children.css({float:"horizontal"===n.settings.mode?"left":"none",listStyle:"none",position:"relative"}),n.children.css("width",f()),"horizontal"===n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginRight",n.settings.slideMargin),"vertical"===n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginBottom",n.settings.slideMargin),"fade"===n.settings.mode&&(n.children.css({position:"absolute",zIndex:0,display:"none"}),n.children.eq(n.settings.startSlide).css({zIndex:n.settings.slideZIndex,display:"block"})),n.controls.el=t('<div class="bx-controls" />'),n.settings.captions&&S(),n.active.last=n.settings.startSlide===m()-1,n.settings.video&&s.fitVids(),("all"===n.settings.preloadImages||n.settings.ticker)&&(e=n.children),n.settings.ticker?n.settings.pager=!1:(n.settings.controls&&z(),n.settings.auto&&n.settings.autoControls&&_(),n.settings.pager&&x(),(n.settings.controls||n.settings.autoControls||n.settings.pager)&&n.viewport.after(n.controls.el)),d(e,c)},d=function(e,i){var o=e.find('img:not([src=""]), iframe').length,n=0;return 0===o?void i():void e.find('img:not([src=""]), iframe').each(function(){t(this).one("load error",function(){++n===o&&i()}).each(function(){this.complete&&t(this).load()})})},c=function(){if(n.settings.infiniteLoop&&"fade"!==n.settings.mode&&!n.settings.ticker){var e="vertical"===n.settings.mode?n.settings.minSlides:n.settings.maxSlides,i=n.children.slice(0,e).clone(!0).addClass("bx-clone"),o=n.children.slice(-e).clone(!0).addClass("bx-clone");n.settings.ariaHidden&&(i.attr("aria-hidden",!0),o.attr("aria-hidden",!0)),s.append(i).prepend(o)}n.loader.remove(),b(),"vertical"===n.settings.mode&&(n.settings.adaptiveHeight=!0),n.viewport.height(p()),s.redrawSlider(),n.settings.onSliderLoad.call(s,n.active.index),n.initialized=!0,n.settings.responsive&&t(window).bind("resize",q),n.settings.auto&&n.settings.autoStart&&(m()>1||n.settings.autoSlideForOnePage)&&H(),n.settings.ticker&&P(),n.settings.pager&&k(n.settings.startSlide),n.settings.controls&&B(),n.settings.touchEnabled&&!n.settings.ticker&&R(),n.settings.keyboardEnabled&&!n.settings.ticker&&t(document).keydown(M)},p=function(){var e=0,o=t();if("vertical"===n.settings.mode||n.settings.adaptiveHeight)if(n.carousel){var s=1===n.settings.moveSlides?n.active.index:n.active.index*v();for(o=n.children.eq(s),i=1;i<=n.settings.maxSlides-1;i++)o=s+i>=n.children.length?o.add(n.children.eq(i-1)):o.add(n.children.eq(s+i))}else o=n.children.eq(n.active.index);else o=n.children;return"vertical"===n.settings.mode?(o.each(function(i){e+=t(this).outerHeight()}),n.settings.slideMargin>0&&(e+=n.settings.slideMargin*(n.settings.minSlides-1))):e=Math.max.apply(Math,o.map(function(){return t(this).outerHeight(!1)}).get()),"border-box"===n.viewport.css("box-sizing")?e+=parseFloat(n.viewport.css("padding-top"))+parseFloat(n.viewport.css("padding-bottom"))+parseFloat(n.viewport.css("border-top-width"))+parseFloat(n.viewport.css("border-bottom-width")):"padding-box"===n.viewport.css("box-sizing")&&(e+=parseFloat(n.viewport.css("padding-top"))+parseFloat(n.viewport.css("padding-bottom"))),e},u=function(){var t="100%";return n.settings.slideWidth>0&&(t="horizontal"===n.settings.mode?n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin:n.settings.slideWidth),t},f=function(){var t=n.settings.slideWidth,e=n.viewport.width();if(0===n.settings.slideWidth||n.settings.slideWidth>e&&!n.carousel||"vertical"===n.settings.mode)t=e;else if(n.settings.maxSlides>1&&"horizontal"===n.settings.mode){if(e>n.maxThreshold)return t;e<n.minThreshold?t=(e-n.settings.slideMargin*(n.settings.minSlides-1))/n.settings.minSlides:n.settings.shrinkItems&&(t=Math.floor((e+n.settings.slideMargin)/Math.ceil((e+n.settings.slideMargin)/(t+n.settings.slideMargin))-n.settings.slideMargin))}return t},g=function(){var t=1,e=null;return"horizontal"===n.settings.mode&&n.settings.slideWidth>0?n.viewport.width()<n.minThreshold?t=n.settings.minSlides:n.viewport.width()>n.maxThreshold?t=n.settings.maxSlides:(e=n.children.first().width()+n.settings.slideMargin,t=Math.floor((n.viewport.width()+n.settings.slideMargin)/e)):"vertical"===n.settings.mode&&(t=n.settings.minSlides),t},m=function(){var t=0,e=0,i=0;if(n.settings.moveSlides>0)if(n.settings.infiniteLoop)t=Math.ceil(n.children.length/v());else for(;e<n.children.length;)++t,e=i+g(),i+=n.settings.moveSlides<=g()?n.settings.moveSlides:g();else t=Math.ceil(n.children.length/g());return t},v=function(){return n.settings.moveSlides>0&&n.settings.moveSlides<=g()?n.settings.moveSlides:g()},b=function(){var t,e,i;n.children.length>n.settings.maxSlides&&n.active.last&&!n.settings.infiniteLoop?"horizontal"===n.settings.mode?(e=n.children.last(),t=e.position(),w(-(t.left-(n.viewport.width()-e.outerWidth())),"reset",0)):"vertical"===n.settings.mode&&(i=n.children.length-n.settings.minSlides,t=n.children.eq(i).position(),w(-t.top,"reset",0)):(t=n.children.eq(n.active.index*v()).position(),n.active.index===m()-1&&(n.active.last=!0),void 0!==t&&("horizontal"===n.settings.mode?w(-t.left,"reset",0):"vertical"===n.settings.mode&&w(-t.top,"reset",0)))},w=function(e,i,o,a){var r,l;n.usingCSS?(l="vertical"===n.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)",s.css("-"+n.cssPrefix+"-transition-duration",o/1e3+"s"),"slide"===i?(s.css(n.animProp,l),0!==o?s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(s)&&(s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),E())}):E()):"reset"===i?s.css(n.animProp,l):"ticker"===i&&(s.css("-"+n.cssPrefix+"-transition-timing-function","linear"),s.css(n.animProp,l),0!==o?s.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){t(e.target).is(s)&&(s.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(a.resetValue,"reset",0),O())}):(w(a.resetValue,"reset",0),O()))):(r={},r[n.animProp]=e,"slide"===i?s.animate(r,o,n.settings.easing,function(){E()}):"reset"===i?s.css(n.animProp,e):"ticker"===i&&s.animate(r,o,"linear",function(){w(a.resetValue,"reset",0),O()}))},y=function(){for(var e="",i="",o=m(),s=0;o>s;s++)i="",n.settings.buildPager&&t.isFunction(n.settings.buildPager)||n.settings.pagerCustom?(i=n.settings.buildPager(s),n.pagerEl.addClass("bx-custom-pager")):(i=s+1,n.pagerEl.addClass("bx-default-pager")),e+='<div class="bx-pager-item"><a href="" data-slide-index="'+s+'" class="bx-pager-link">'+i+"</a></div>";n.pagerEl.html(e)},x=function(){n.settings.pagerCustom?n.pagerEl=t(n.settings.pagerCustom):(n.pagerEl=t('<div class="bx-pager" />'),n.settings.pagerSelector?t(n.settings.pagerSelector).html(n.pagerEl):n.controls.el.addClass("bx-has-pager").append(n.pagerEl),y()),n.pagerEl.on("click touchend","a",W)},z=function(){n.controls.next=t('<a class="bx-next" href="">'+n.settings.nextText+"</a>"),n.controls.prev=t('<a class="bx-prev" href="">'+n.settings.prevText+"</a>"),n.controls.next.bind("click touchend",C),n.controls.prev.bind("click touchend",T),n.settings.nextSelector&&t(n.settings.nextSelector).append(n.controls.next),n.settings.prevSelector&&t(n.settings.prevSelector).append(n.controls.prev),n.settings.nextSelector||n.settings.prevSelector||(n.controls.directionEl=t('<div class="bx-controls-direction" />'),n.controls.directionEl.append(n.controls.prev).append(n.controls.next),n.controls.el.addClass("bx-has-controls-direction").append(n.controls.directionEl))},_=function(){n.controls.start=t('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+n.settings.startText+"</a></div>"),n.controls.stop=t('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+n.settings.stopText+"</a></div>"),n.controls.autoEl=t('<div class="bx-controls-auto" />'),n.controls.autoEl.on("click",".bx-start",$),n.controls.autoEl.on("click",".bx-stop",I),n.settings.autoControlsCombine?n.controls.autoEl.append(n.controls.start):n.controls.autoEl.append(n.controls.start).append(n.controls.stop),n.settings.autoControlsSelector?t(n.settings.autoControlsSelector).html(n.controls.autoEl):n.controls.el.addClass("bx-has-controls-auto").append(n.controls.autoEl),L(n.settings.autoStart?"stop":"start")},S=function(){n.children.each(function(e){var i=t(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&t(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},C=function(t){t.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&s.stopAuto(),s.goToNextSlide())},T=function(t){t.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&s.stopAuto(),s.goToPrevSlide())},$=function(t){s.startAuto(),t.preventDefault()},I=function(t){s.stopAuto(),t.preventDefault()},W=function(e){var i,o;e.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&s.stopAuto(),i=t(e.currentTarget),void 0!==i.attr("data-slide-index")&&(o=parseInt(i.attr("data-slide-index")))!==n.active.index&&s.goToSlide(o))},k=function(e){var i=n.children.length;return"short"===n.settings.pagerType?(n.settings.maxSlides>1&&(i=Math.ceil(n.children.length/n.settings.maxSlides)),void n.pagerEl.html(e+1+n.settings.pagerShortSeparator+i)):(n.pagerEl.find("a").removeClass("active"),void n.pagerEl.each(function(i,o){t(o).find("a").eq(e).addClass("active")}))},E=function(){if(n.settings.infiniteLoop){var t="";0===n.active.index?t=n.children.eq(0).position():n.active.index===m()-1&&n.carousel?t=n.children.eq((m()-1)*v()).position():n.active.index===n.children.length-1&&(t=n.children.eq(n.children.length-1).position()),t&&("horizontal"===n.settings.mode?w(-t.left,"reset",0):"vertical"===n.settings.mode&&w(-t.top,"reset",0))}n.working=!1,n.settings.onSlideAfter.call(s,n.children.eq(n.active.index),n.oldIndex,n.active.index)},L=function(t){n.settings.autoControlsCombine?n.controls.autoEl.html(n.controls[t]):(n.controls.autoEl.find("a").removeClass("active"),n.controls.autoEl.find("a:not(.bx-"+t+")").addClass("active"))},B=function(){1===m()?(n.controls.prev.addClass("disabled"),n.controls.next.addClass("disabled")):!n.settings.infiniteLoop&&n.settings.hideControlOnEnd&&(0===n.active.index?(n.controls.prev.addClass("disabled"),n.controls.next.removeClass("disabled")):n.active.index===m()-1?(n.controls.next.addClass("disabled"),n.controls.prev.removeClass("disabled")):(n.controls.prev.removeClass("disabled"),n.controls.next.removeClass("disabled")))},H=function(){n.settings.autoDelay>0?setTimeout(s.startAuto,n.settings.autoDelay):(s.startAuto(),t(window).focus(function(){s.startAuto()}).blur(function(){s.stopAuto()})),n.settings.autoHover&&s.hover(function(){n.interval&&(s.stopAuto(!0),n.autoPaused=!0)},function(){n.autoPaused&&(s.startAuto(!0),n.autoPaused=null)})},P=function(){var e,i,o,a,r,l,h,d,c=0;"next"===n.settings.autoDirection?s.append(n.children.clone().addClass("bx-clone")):(s.prepend(n.children.clone().addClass("bx-clone")),e=n.children.first().position(),c="horizontal"===n.settings.mode?-e.left:-e.top),w(c,"reset",0),n.settings.pager=!1,n.settings.controls=!1,n.settings.autoControls=!1,n.settings.tickerHover&&(n.usingCSS?(a="horizontal"===n.settings.mode?4:5,n.viewport.hover(function(){i=s.css("-"+n.cssPrefix+"-transform"),o=parseFloat(i.split(",")[a]),w(o,"reset",0)},function(){d=0,n.children.each(function(e){d+="horizontal"===n.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),r=n.settings.speed/d,l="horizontal"===n.settings.mode?"left":"top",h=r*(d-Math.abs(parseInt(o))),O(h)})):n.viewport.hover(function(){s.stop()},function(){d=0,n.children.each(function(e){d+="horizontal"===n.settings.mode?t(this).outerWidth(!0):t(this).outerHeight(!0)}),r=n.settings.speed/d,l="horizontal"===n.settings.mode?"left":"top",h=r*(d-Math.abs(parseInt(s.css(l)))),O(h)})),O()},O=function(t){var e,i,o,a=t||n.settings.speed,r={left:0,top:0},l={left:0,top:0};"next"===n.settings.autoDirection?r=s.find(".bx-clone").first().position():l=n.children.first().position(),e="horizontal"===n.settings.mode?-r.left:-r.top,
i="horizontal"===n.settings.mode?-l.left:-l.top,o={resetValue:i},w(e,"ticker",a,o)},A=function(e){var i=t(window),o={top:i.scrollTop(),left:i.scrollLeft()},n=e.offset();return o.right=o.left+i.width(),o.bottom=o.top+i.height(),n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(o.right<n.left||o.left>n.right||o.bottom<n.top||o.top>n.bottom)},M=function(t){var e=document.activeElement.tagName.toLowerCase();if(null==new RegExp(e,["i"]).exec("input|textarea")&&A(s)){if(39===t.keyCode)return C(t),!1;if(37===t.keyCode)return T(t),!1}},R=function(){n.touch={start:{x:0,y:0},end:{x:0,y:0}},n.viewport.bind("touchstart MSPointerDown pointerdown",D),n.viewport.on("click",".bxslider a",function(t){n.viewport.hasClass("click-disabled")&&(t.preventDefault(),n.viewport.removeClass("click-disabled"))})},D=function(t){if(n.controls.el.addClass("disabled"),n.working)t.preventDefault(),n.controls.el.removeClass("disabled");else{n.touch.originalPos=s.position();var e=t.originalEvent,i=void 0!==e.changedTouches?e.changedTouches:[e];n.touch.start.x=i[0].pageX,n.touch.start.y=i[0].pageY,n.viewport.get(0).setPointerCapture&&(n.pointerId=e.pointerId,n.viewport.get(0).setPointerCapture(n.pointerId)),n.viewport.bind("touchmove MSPointerMove pointermove",F),n.viewport.bind("touchend MSPointerUp pointerup",j),n.viewport.bind("MSPointerCancel pointercancel",N)}},N=function(t){w(n.touch.originalPos.left,"reset",0),n.controls.el.removeClass("disabled"),n.viewport.unbind("MSPointerCancel pointercancel",N),n.viewport.unbind("touchmove MSPointerMove pointermove",F),n.viewport.unbind("touchend MSPointerUp pointerup",j),n.viewport.get(0).releasePointerCapture&&n.viewport.get(0).releasePointerCapture(n.pointerId)},F=function(t){var e=t.originalEvent,i=void 0!==e.changedTouches?e.changedTouches:[e],o=Math.abs(i[0].pageX-n.touch.start.x),s=Math.abs(i[0].pageY-n.touch.start.y),a=0,r=0;3*o>s&&n.settings.preventDefaultSwipeX?t.preventDefault():3*s>o&&n.settings.preventDefaultSwipeY&&t.preventDefault(),"fade"!==n.settings.mode&&n.settings.oneToOneTouch&&("horizontal"===n.settings.mode?(r=i[0].pageX-n.touch.start.x,a=n.touch.originalPos.left+r):(r=i[0].pageY-n.touch.start.y,a=n.touch.originalPos.top+r),w(a,"reset",0))},j=function(t){n.viewport.unbind("touchmove MSPointerMove pointermove",F),n.controls.el.removeClass("disabled");var e=t.originalEvent,i=void 0!==e.changedTouches?e.changedTouches:[e],o=0,a=0;n.touch.end.x=i[0].pageX,n.touch.end.y=i[0].pageY,"fade"===n.settings.mode?(a=Math.abs(n.touch.start.x-n.touch.end.x))>=n.settings.swipeThreshold&&(n.touch.start.x>n.touch.end.x?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto()):("horizontal"===n.settings.mode?(a=n.touch.end.x-n.touch.start.x,o=n.touch.originalPos.left):(a=n.touch.end.y-n.touch.start.y,o=n.touch.originalPos.top),!n.settings.infiniteLoop&&(0===n.active.index&&a>0||n.active.last&&0>a)?w(o,"reset",200):Math.abs(a)>=n.settings.swipeThreshold?(0>a?s.goToNextSlide():s.goToPrevSlide(),s.stopAuto()):w(o,"reset",200)),n.viewport.unbind("touchend MSPointerUp pointerup",j),n.viewport.get(0).releasePointerCapture&&n.viewport.get(0).releasePointerCapture(n.pointerId)},q=function(e){if(n.initialized)if(n.working)window.setTimeout(q,10);else{var i=t(window).width(),o=t(window).height();(a!==i||r!==o)&&(a=i,r=o,s.redrawSlider(),n.settings.onSliderResize.call(s,n.active.index))}},Z=function(t){var e=g();n.settings.ariaHidden&&!n.settings.ticker&&(n.children.attr("aria-hidden","true"),n.children.slice(t,t+e).attr("aria-hidden","false"))},Y=function(t){return 0>t?n.settings.infiniteLoop?m()-1:n.active.index:t>=m()?n.settings.infiniteLoop?0:n.active.index:t};return s.goToSlide=function(e,i){var o,a,r,l,h=!0,d=0,c={left:0,top:0},u=null;if(n.oldIndex=n.active.index,n.active.index=Y(e),!n.working&&n.active.index!==n.oldIndex){if(n.working=!0,void 0!==(h=n.settings.onSlideBefore.call(s,n.children.eq(n.active.index),n.oldIndex,n.active.index))&&!h)return n.active.index=n.oldIndex,void(n.working=!1);"next"===i?n.settings.onSlideNext.call(s,n.children.eq(n.active.index),n.oldIndex,n.active.index)||(h=!1):"prev"===i&&(n.settings.onSlidePrev.call(s,n.children.eq(n.active.index),n.oldIndex,n.active.index)||(h=!1)),n.active.last=n.active.index>=m()-1,(n.settings.pager||n.settings.pagerCustom)&&k(n.active.index),n.settings.controls&&B(),"fade"===n.settings.mode?(n.settings.adaptiveHeight&&n.viewport.height()!==p()&&n.viewport.animate({height:p()},n.settings.adaptiveHeightSpeed),n.children.filter(":visible").fadeOut(n.settings.speed).css({zIndex:0}),n.children.eq(n.active.index).css("zIndex",n.settings.slideZIndex+1).fadeIn(n.settings.speed,function(){t(this).css("zIndex",n.settings.slideZIndex),E()})):(n.settings.adaptiveHeight&&n.viewport.height()!==p()&&n.viewport.animate({height:p()},n.settings.adaptiveHeightSpeed),!n.settings.infiniteLoop&&n.carousel&&n.active.last?"horizontal"===n.settings.mode?(u=n.children.eq(n.children.length-1),c=u.position(),d=n.viewport.width()-u.outerWidth()):(o=n.children.length-n.settings.minSlides,c=n.children.eq(o).position()):n.carousel&&n.active.last&&"prev"===i?(a=1===n.settings.moveSlides?n.settings.maxSlides-v():(m()-1)*v()-(n.children.length-n.settings.maxSlides),u=s.children(".bx-clone").eq(a),c=u.position()):"next"===i&&0===n.active.index?(c=s.find("> .bx-clone").eq(n.settings.maxSlides).position(),n.active.last=!1):e>=0&&(l=e*parseInt(v()),c=n.children.eq(l).position()),void 0!==c?(r="horizontal"===n.settings.mode?-(c.left-d):-c.top,w(r,"slide",n.settings.speed)):n.working=!1),n.settings.ariaHidden&&Z(n.active.index*v())}},s.goToNextSlide=function(){if(n.settings.infiniteLoop||!n.active.last){var t=parseInt(n.active.index)+1;s.goToSlide(t,"next")}},s.goToPrevSlide=function(){if(n.settings.infiniteLoop||0!==n.active.index){var t=parseInt(n.active.index)-1;s.goToSlide(t,"prev")}},s.startAuto=function(t){n.interval||(n.interval=setInterval(function(){"next"===n.settings.autoDirection?s.goToNextSlide():s.goToPrevSlide()},n.settings.pause),n.settings.autoControls&&!0!==t&&L("stop"))},s.stopAuto=function(t){n.interval&&(clearInterval(n.interval),n.interval=null,n.settings.autoControls&&!0!==t&&L("start"))},s.getCurrentSlide=function(){return n.active.index},s.getCurrentSlideElement=function(){return n.children.eq(n.active.index)},s.getSlideElement=function(t){return n.children.eq(t)},s.getSlideCount=function(){return n.children.length},s.isWorking=function(){return n.working},s.redrawSlider=function(){n.children.add(s.find(".bx-clone")).outerWidth(f()),n.viewport.css("height",p()),n.settings.ticker||b(),n.active.last&&(n.active.index=m()-1),n.active.index>=m()&&(n.active.last=!0),n.settings.pager&&!n.settings.pagerCustom&&(y(),k(n.active.index)),n.settings.ariaHidden&&Z(n.active.index*v())},s.destroySlider=function(){n.initialized&&(n.initialized=!1,t(".bx-clone",this).remove(),n.children.each(function(){void 0!==t(this).data("origStyle")?t(this).attr("style",t(this).data("origStyle")):t(this).removeAttr("style")}),void 0!==t(this).data("origStyle")?this.attr("style",t(this).data("origStyle")):t(this).removeAttr("style"),t(this).unwrap().unwrap(),n.controls.el&&n.controls.el.remove(),n.controls.next&&n.controls.next.remove(),n.controls.prev&&n.controls.prev.remove(),n.pagerEl&&n.settings.controls&&!n.settings.pagerCustom&&n.pagerEl.remove(),t(".bx-caption",this).remove(),n.controls.autoEl&&n.controls.autoEl.remove(),clearInterval(n.interval),n.settings.responsive&&t(window).unbind("resize",q),n.settings.keyboardEnabled&&t(document).unbind("keydown",M),t(this).removeData("bxSlider"))},s.reloadSlider=function(e){void 0!==e&&(o=e),s.destroySlider(),l(),t(s).data("bxSlider",this)},l(),t(s).data("bxSlider",this),this}}}(jQuery),"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i,o){var n={init:function(e,i){var o=this;o.elem=i,o.$elem=t(i),o.imageSrc=o.$elem.data("zoom-image")?o.$elem.data("zoom-image"):o.$elem.attr("src"),o.options=t.extend({},t.fn.elevateZoom.options,e),o.options.tint&&(o.options.lensColour="none",o.options.lensOpacity="1"),"inner"==o.options.zoomType&&(o.options.showLens=!1),o.$elem.parent().removeAttr("title").removeAttr("alt"),o.zoomImage=o.imageSrc,o.refresh(1),t("#"+o.options.gallery+" a").click(function(e){return o.options.galleryActiveClass&&(t("#"+o.options.gallery+" a").removeClass(o.options.galleryActiveClass),t(this).addClass(o.options.galleryActiveClass)),e.preventDefault(),t(this).data("zoom-image")?o.zoomImagePre=t(this).data("zoom-image"):o.zoomImagePre=t(this).data("image"),o.swaptheimage(t(this).data("image"),o.zoomImagePre),!1})},refresh:function(t){var e=this;setTimeout(function(){e.fetch(e.imageSrc)},t||e.options.refresh)},fetch:function(t){var e=this,i=new Image;i.onload=function(){e.largeWidth=i.width,e.largeHeight=i.height,e.startZoom(),e.currentImage=e.imageSrc,e.options.onZoomedImageLoaded(e.$elem)},i.src=t},startZoom:function(){var e=this;if(e.nzWidth=e.$elem.width(),e.nzHeight=e.$elem.height(),e.isWindowActive=!1,e.isLensActive=!1,e.isTintActive=!1,e.overWindow=!1,e.options.imageCrossfade&&(e.zoomWrap=e.$elem.wrap('<div style="height:'+e.nzHeight+"px;width:"+e.nzWidth+'px;" class="zoomWrapper" />'),e.$elem.css("position","absolute")),e.zoomLock=1,e.scrollingLock=!1,e.changeBgSize=!1,e.currentZoomLevel=e.options.zoomLevel,e.nzOffset=e.$elem.offset(),e.widthRatio=e.largeWidth/e.currentZoomLevel/e.nzWidth,e.heightRatio=e.largeHeight/e.currentZoomLevel/e.nzHeight,"window"==e.options.zoomType&&(e.zoomWindowStyle="overflow: hidden;background-position: 0px 0px;text-align:center;background-color: "+String(e.options.zoomWindowBgColour)+";width: "+String(e.options.zoomWindowWidth)+"px;height: "+String(e.options.zoomWindowHeight)+"px;float: left;background-size: "+e.largeWidth/e.currentZoomLevel+"px "+e.largeHeight/e.currentZoomLevel+"px;display: none;z-index:100;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"),"inner"==e.options.zoomType){var i=e.$elem.css("border-left-width");e.zoomWindowStyle="overflow: hidden;margin-left: "+String(i)+";margin-top: "+String(i)+";background-position: 0px 0px;width: "+String(e.nzWidth)+"px;height: "+String(e.nzHeight)+"px;float: left;display: none;cursor:"+e.options.cursor+";px solid "+e.options.borderColour+";background-repeat: no-repeat;position: absolute;"}"window"==e.options.zoomType&&(lensHeight=e.nzHeight<e.options.zoomWindowWidth/e.widthRatio?e.nzHeight:String(e.options.zoomWindowHeight/e.heightRatio),lensWidth=e.largeWidth<e.options.zoomWindowWidth?e.nzWidth:e.options.zoomWindowWidth/e.widthRatio,e.lensStyle="background-position: 0px 0px;width: "+String(e.options.zoomWindowWidth/e.widthRatio)+"px;height: "+String(e.options.zoomWindowHeight/e.heightRatio)+"px;float: right;display: none;overflow: hidden;z-index: 999;-webkit-transform: translateZ(0);opacity:"+e.options.lensOpacity+";filter: alpha(opacity = "+100*e.options.lensOpacity+"); zoom:1;width:"+lensWidth+"px;height:"+lensHeight+"px;background-color:"+e.options.lensColour+";cursor:"+e.options.cursor+";border: "+e.options.lensBorderSize+"px solid "+e.options.lensBorderColour+";background-repeat: no-repeat;position: absolute;"),e.tintStyle="display: block;position: absolute;background-color: "+e.options.tintColour+";filter:alpha(opacity=0);opacity: 0;width: "+e.nzWidth+"px;height: "+e.nzHeight+"px;",e.lensRound="","lens"==e.options.zoomType&&(e.lensStyle="background-position: 0px 0px;float: left;display: none;border: "+String(e.options.borderSize)+"px solid "+e.options.borderColour+";width:"+String(e.options.lensSize)+"px;height:"+String(e.options.lensSize)+"px;background-repeat: no-repeat;position: absolute;"),"round"==e.options.lensShape&&(e.lensRound="border-top-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-top-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-left-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;border-bottom-right-radius: "+String(e.options.lensSize/2+e.options.borderSize)+"px;"),e.zoomContainer=t('<div class="zoomContainer" style="-webkit-transform: translateZ(0);position:absolute;left:'+e.nzOffset.left+"px;top:"+e.nzOffset.top+"px;height:"+e.nzHeight+"px;width:"+e.nzWidth+'px;"></div>'),t("body").append(e.zoomContainer),e.options.containLensZoom&&"lens"==e.options.zoomType&&e.zoomContainer.css("overflow","hidden"),"inner"!=e.options.zoomType&&(e.zoomLens=t("<div class='zoomLens' style='"+e.lensStyle+e.lensRound+"'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.options.tint&&(e.tintContainer=t("<div/>").addClass("tintContainer"),e.zoomTint=t("<div class='zoomTint' style='"+e.tintStyle+"'></div>"),e.zoomLens.wrap(e.tintContainer),e.zoomTintcss=e.zoomLens.after(e.zoomTint),e.zoomTintImage=t('<img style="position: absolute; left: 0px; top: 0px; max-width: none; width: '+e.nzWidth+"px; height: "+e.nzHeight+'px;" src="'+e.imageSrc+'">').appendTo(e.zoomLens).click(function(){e.$elem.trigger("click")}))),isNaN(e.options.zoomWindowPosition)?e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo("body").click(function(){e.$elem.trigger("click")}):e.zoomWindow=t("<div style='z-index:999;left:"+e.windowOffsetLeft+"px;top:"+e.windowOffsetTop+"px;"+e.zoomWindowStyle+"' class='zoomWindow'>&nbsp;</div>").appendTo(e.zoomContainer).click(function(){e.$elem.trigger("click")}),e.zoomWindowContainer=t("<div/>").addClass("zoomWindowContainer").css("width",e.options.zoomWindowWidth),e.zoomWindow.wrap(e.zoomWindowContainer),"lens"==e.options.zoomType&&e.zoomLens.css({backgroundImage:"url('"+e.imageSrc+"')"}),"window"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),"inner"==e.options.zoomType&&e.zoomWindow.css({backgroundImage:"url('"+e.imageSrc+"')"}),e.$elem.bind("touchmove",function(t){t.preventDefault(),e.setPosition(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0])}),e.zoomContainer.bind("touchmove",function(t){"inner"==e.options.zoomType&&e.showHideWindow("show"),t.preventDefault(),e.setPosition(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0])}),e.zoomContainer.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.$elem.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")}),e.options.showLens&&(e.zoomLens.bind("touchmove",function(t){t.preventDefault(),e.setPosition(t.originalEvent.touches[0]||t.originalEvent.changedTouches[0])}),e.zoomLens.bind("touchend",function(t){e.showHideWindow("hide"),e.options.showLens&&e.showHideLens("hide"),e.options.tint&&"inner"!=e.options.zoomType&&e.showHideTint("hide")})),e.$elem.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.bind("mousemove",function(t){0==e.overWindow&&e.setElements("show"),e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"!=e.options.zoomType&&e.zoomLens.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.options.tint&&"inner"!=e.options.zoomType&&e.zoomTint.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),"inner"==e.options.zoomType&&e.zoomWindow.bind("mousemove",function(t){e.lastX===t.clientX&&e.lastY===t.clientY||(e.setPosition(t),e.currentLoc=t),e.lastX=t.clientX,e.lastY=t.clientY}),e.zoomContainer.add(e.$elem).mouseenter(function(){0==e.overWindow&&e.setElements("show")}).mouseleave(function(){e.scrollLock||e.setElements("hide")}),"inner"!=e.options.zoomType&&e.zoomWindow.mouseenter(function(){e.overWindow=!0,e.setElements("hide")}).mouseleave(function(){e.overWindow=!1}),e.minZoomLevel=e.options.minZoomLevel?e.options.minZoomLevel:2*e.options.scrollZoomIncrement,e.options.scrollZoom&&e.zoomContainer.add(e.$elem).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(i){e.scrollLock=!0,clearTimeout(t.data(this,"timer")),t.data(this,"timer",setTimeout(function(){e.scrollLock=!1},250));var o=i.originalEvent.wheelDelta||-1*i.originalEvent.detail;return i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault(),0<o/120?e.currentZoomLevel>=e.minZoomLevel&&e.changeZoomLevel(e.currentZoomLevel-e.options.scrollZoomIncrement):e.options.maxZoomLevel?e.currentZoomLevel<=e.options.maxZoomLevel&&e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement):e.changeZoomLevel(parseFloat(e.currentZoomLevel)+e.options.scrollZoomIncrement),!1})},setElements:function(t){if(!this.options.zoomEnabled)return!1;"show"==t&&this.isWindowSet&&("inner"==this.options.zoomType&&this.showHideWindow("show"),"window"==this.options.zoomType&&this.showHideWindow("show"),this.options.showLens&&this.showHideLens("show"),this.options.tint&&"inner"!=this.options.zoomType&&this.showHideTint("show")),"hide"==t&&("window"==this.options.zoomType&&this.showHideWindow("hide"),this.options.tint||this.showHideWindow("hide"),this.options.showLens&&this.showHideLens("hide"),this.options.tint&&this.showHideTint("hide"))},setPosition:function(t){if(!this.options.zoomEnabled)return!1;this.nzHeight=this.$elem.height(),this.nzWidth=this.$elem.width(),this.nzOffset=this.$elem.offset(),this.options.tint&&"inner"!=this.options.zoomType&&(this.zoomTint.css({top:0}),this.zoomTint.css({left:0})),this.options.responsive&&!this.options.scrollZoom&&this.options.showLens&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.largeWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"lens"!=this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight),this.options.tint&&(this.zoomTintImage.css("width",this.nzWidth),this.zoomTintImage.css("height",this.nzHeight))),"lens"==this.options.zoomType&&this.zoomLens.css({width:String(this.options.lensSize)+"px",height:String(this.options.lensSize)+"px"})),this.zoomContainer.css({top:this.nzOffset.top}),this.zoomContainer.css({left:this.nzOffset.left}),this.mouseLeft=parseInt(t.pageX-this.nzOffset.left),this.mouseTop=parseInt(t.pageY-this.nzOffset.top),"window"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.zoomLens.height()/2,this.Eboppos=this.mouseTop>this.nzHeight-this.zoomLens.height()/2-2*this.options.lensBorderSize,this.Eloppos=this.mouseLeft<0+this.zoomLens.width()/2,this.Eroppos=this.mouseLeft>this.nzWidth-this.zoomLens.width()/2-2*this.options.lensBorderSize),"inner"==this.options.zoomType&&(this.Etoppos=this.mouseTop<this.nzHeight/2/this.heightRatio,this.Eboppos=this.mouseTop>this.nzHeight-this.nzHeight/2/this.heightRatio,this.Eloppos=this.mouseLeft<0+this.nzWidth/2/this.widthRatio,this.Eroppos=this.mouseLeft>this.nzWidth-this.nzWidth/2/this.widthRatio-2*this.options.lensBorderSize),0>=this.mouseLeft||0>this.mouseTop||this.mouseLeft>this.nzWidth||this.mouseTop>this.nzHeight?this.setElements("hide"):(this.options.showLens&&(this.lensLeftPos=String(this.mouseLeft-this.zoomLens.width()/2),this.lensTopPos=String(this.mouseTop-this.zoomLens.height()/2)),this.Etoppos&&(this.lensTopPos=0),this.Eloppos&&(this.tintpos=this.lensLeftPos=this.windowLeftPos=0),"window"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),"inner"==this.options.zoomType&&(this.Eboppos&&(this.lensTopPos=Math.max(this.nzHeight-2*this.options.lensBorderSize,0)),this.Eroppos&&(this.lensLeftPos=this.nzWidth-this.nzWidth-2*this.options.lensBorderSize)),"lens"==this.options.zoomType&&(this.windowLeftPos=String(-1*((t.pageX-this.nzOffset.left)*this.widthRatio-this.zoomLens.width()/2)),this.windowTopPos=String(-1*((t.pageY-this.nzOffset.top)*this.heightRatio-this.zoomLens.height()/2)),this.zoomLens.css({backgroundPosition:this.windowLeftPos+"px "+this.windowTopPos+"px"}),this.changeBgSize&&(this.nzHeight>this.nzWidth?("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvalueheight+"px "+this.largeHeight/this.newvalueheight+"px"})):("lens"==this.options.zoomType&&this.zoomLens.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"}),this.zoomWindow.css({"background-size":this.largeWidth/this.newvaluewidth+"px "+this.largeHeight/this.newvaluewidth+"px"})),this.changeBgSize=!1),this.setWindowPostition(t)),this.options.tint&&"inner"!=this.options.zoomType&&this.setTintPosition(t),"window"==this.options.zoomType&&this.setWindowPostition(t),"inner"==this.options.zoomType&&this.setWindowPostition(t),this.options.showLens&&(this.fullwidth&&"lens"!=this.options.zoomType&&(this.lensLeftPos=0),this.zoomLens.css({left:this.lensLeftPos+"px",top:this.lensTopPos+"px"})))},showHideWindow:function(t){"show"!=t||this.isWindowActive||(this.options.zoomWindowFadeIn?this.zoomWindow.stop(!0,!0,!1).fadeIn(this.options.zoomWindowFadeIn):this.zoomWindow.show(),this.isWindowActive=!0),"hide"==t&&this.isWindowActive&&(this.options.zoomWindowFadeOut?this.zoomWindow.stop(!0,!0).fadeOut(this.options.zoomWindowFadeOut):this.zoomWindow.hide(),this.isWindowActive=!1)},showHideLens:function(t){"show"!=t||this.isLensActive||(this.options.lensFadeIn?this.zoomLens.stop(!0,!0,!1).fadeIn(this.options.lensFadeIn):this.zoomLens.show(),this.isLensActive=!0),"hide"==t&&this.isLensActive&&(this.options.lensFadeOut?this.zoomLens.stop(!0,!0).fadeOut(this.options.lensFadeOut):this.zoomLens.hide(),this.isLensActive=!1)},showHideTint:function(t){"show"!=t||this.isTintActive||(this.options.zoomTintFadeIn?this.zoomTint.css({opacity:this.options.tintOpacity}).animate().stop(!0,!0).fadeIn("slow"):(this.zoomTint.css({opacity:this.options.tintOpacity}).animate(),this.zoomTint.show()),this.isTintActive=!0),"hide"==t&&this.isTintActive&&(this.options.zoomTintFadeOut?this.zoomTint.stop(!0,!0).fadeOut(this.options.zoomTintFadeOut):this.zoomTint.hide(),this.isTintActive=!1)},setLensPostition:function(t){},setWindowPostition:function(e){var i=this;if(isNaN(i.options.zoomWindowPosition))i.externalContainer=t("#"+i.options.zoomWindowPosition),i.externalContainerWidth=i.externalContainer.width(),i.externalContainerHeight=i.externalContainer.height(),i.externalContainerOffset=i.externalContainer.offset(),i.windowOffsetTop=i.externalContainerOffset.top,i.windowOffsetLeft=i.externalContainerOffset.left;else switch(i.options.zoomWindowPosition){case 1:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=+i.nzWidth;break;case 2:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=i.nzWidth);break;case 3:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=i.nzWidth;break;case 4:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth;break;case 5:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 6:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 7:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=0;break;case 8:i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 9:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-2*i.options.borderSize,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 10:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.options.zoomWindowHeight/2-i.nzHeight/2),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize));break;case 11:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 12:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.zoomWindow.width()+2*i.options.borderSize);break;case 13:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=0;break;case 14:i.options.zoomWindowHeight>i.nzHeight&&(i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=-1*(i.options.zoomWindowWidth/2-i.nzWidth/2+2*i.options.borderSize));break;case 15:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-2*i.options.borderSize;break;case 16:i.windowOffsetTop=-1*(i.zoomWindow.height()+2*i.options.borderSize),i.windowOffsetLeft=i.nzWidth;break;default:i.windowOffsetTop=i.options.zoomWindowOffety,i.windowOffsetLeft=i.nzWidth}i.isWindowSet=!0,i.windowOffsetTop+=i.options.zoomWindowOffety,i.windowOffsetLeft+=i.options.zoomWindowOffetx,i.zoomWindow.css({top:i.windowOffsetTop}),i.zoomWindow.css({left:i.windowOffsetLeft}),"inner"==i.options.zoomType&&(i.zoomWindow.css({top:0}),i.zoomWindow.css({left:0})),i.windowLeftPos=String(-1*((e.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)),i.windowTopPos=String(-1*((e.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)),i.Etoppos&&(i.windowTopPos=0),i.Eloppos&&(i.windowLeftPos=0),i.Eboppos&&(i.windowTopPos=-1*(i.largeHeight/i.currentZoomLevel-i.zoomWindow.height())),i.Eroppos&&(i.windowLeftPos=-1*(i.largeWidth/i.currentZoomLevel-i.zoomWindow.width())),i.fullheight&&(i.windowTopPos=0),i.fullwidth&&(i.windowLeftPos=0),"window"!=i.options.zoomType&&"inner"!=i.options.zoomType||(1==i.zoomLock&&(1>=i.widthRatio&&(i.windowLeftPos=0),1>=i.heightRatio&&(i.windowTopPos=0)),i.largeHeight<i.options.zoomWindowHeight&&(i.windowTopPos=0),i.largeWidth<i.options.zoomWindowWidth&&(i.windowLeftPos=0),i.options.easing?(i.xp||(i.xp=0),i.yp||(i.yp=0),i.loop||(i.loop=setInterval(function(){i.xp+=(i.windowLeftPos-i.xp)/i.options.easingAmount,i.yp+=(i.windowTopPos-i.yp)/i.options.easingAmount,i.scrollingLock?(clearInterval(i.loop),i.xp=i.windowLeftPos,i.yp=i.windowTopPos,i.xp=-1*((e.pageX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2),i.yp=-1*((e.pageY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2),i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.scrollingLock=!1,i.loop=!1):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"!=i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.xp+"px "+i.yp+"px"}))},16))):(i.changeBgSize&&(i.nzHeight>i.nzWidth?("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):("lens"==i.options.zoomType&&i.zoomLens.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.largeHeight/i.newvaluewidth<i.options.zoomWindowHeight?i.zoomWindow.css({"background-size":i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}):i.zoomWindow.css({"background-size":i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:i.windowLeftPos+"px "+i.windowTopPos+"px"})))},setTintPosition:function(t){this.nzOffset=this.$elem.offset(),this.tintpos=String(-1*(t.pageX-this.nzOffset.left-this.zoomLens.width()/2)),this.tintposy=String(-1*(t.pageY-this.nzOffset.top-this.zoomLens.height()/2)),this.Etoppos&&(this.tintposy=0),this.Eloppos&&(this.tintpos=0),this.Eboppos&&(this.tintposy=-1*(this.nzHeight-this.zoomLens.height()-2*this.options.lensBorderSize)),this.Eroppos&&(this.tintpos=-1*(this.nzWidth-this.zoomLens.width()-2*this.options.lensBorderSize)),this.options.tint&&(this.fullheight&&(this.tintposy=0),this.fullwidth&&(this.tintpos=0),this.zoomTintImage.css({left:this.tintpos+"px"}),this.zoomTintImage.css({top:this.tintposy+"px"}))},swaptheimage:function(e,i){var o=this,n=new Image;o.options.loadingIcon&&(o.spinner=t("<div style=\"background: url('"+o.options.loadingIcon+"') no-repeat center;height:"+o.nzHeight+"px;width:"+o.nzWidth+'px;z-index: 2000;position: absolute; background-position: center center;"></div>'),o.$elem.after(o.spinner)),o.options.onImageSwap(o.$elem),n.onload=function(){o.largeWidth=n.width,o.largeHeight=n.height,o.zoomImage=i,o.zoomWindow.css({"background-size":o.largeWidth+"px "+o.largeHeight+"px"}),o.zoomWindow.css({"background-size":o.largeWidth+"px "+o.largeHeight+"px"}),o.swapAction(e,i)},n.src=i},swapAction:function(e,i){var o=this,n=new Image;if(n.onload=function(){o.nzHeight=n.height,o.nzWidth=n.width,o.options.onImageSwapComplete(o.$elem),o.doneCallback()},n.src=e,o.currentZoomLevel=o.options.zoomLevel,o.options.maxZoomLevel=!1,"lens"==o.options.zoomType&&o.zoomLens.css({backgroundImage:"url('"+i+"')"}),"window"==o.options.zoomType&&o.zoomWindow.css({backgroundImage:"url('"+i+"')"}),"inner"==o.options.zoomType&&o.zoomWindow.css({backgroundImage:"url('"+i+"')"}),o.currentImage=i,o.options.imageCrossfade){var s=o.$elem,a=s.clone();o.$elem.attr("src",e),o.$elem.after(a),a.stop(!0).fadeOut(o.options.imageCrossfade,function(){t(this).remove()}),o.$elem.width("auto").removeAttr("width"),o.$elem.height("auto").removeAttr("height"),s.fadeIn(o.options.imageCrossfade),o.options.tint&&"inner"!=o.options.zoomType&&(s=o.zoomTintImage,a=s.clone(),o.zoomTintImage.attr("src",i),o.zoomTintImage.after(a),a.stop(!0).fadeOut(o.options.imageCrossfade,function(){t(this).remove()}),s.fadeIn(o.options.imageCrossfade),o.zoomTint.css({height:o.$elem.height()}),o.zoomTint.css({width:o.$elem.width()})),o.zoomContainer.css("height",o.$elem.height()),o.zoomContainer.css("width",o.$elem.width()),"inner"!=o.options.zoomType||o.options.constrainType||(o.zoomWrap.parent().css("height",o.$elem.height()),o.zoomWrap.parent().css("width",o.$elem.width()),o.zoomWindow.css("height",o.$elem.height()),
o.zoomWindow.css("width",o.$elem.width()))}else o.$elem.attr("src",e),o.options.tint&&(o.zoomTintImage.attr("src",i),o.zoomTintImage.attr("height",o.$elem.height()),o.zoomTintImage.css({height:o.$elem.height()}),o.zoomTint.css({height:o.$elem.height()})),o.zoomContainer.css("height",o.$elem.height()),o.zoomContainer.css("width",o.$elem.width());o.options.imageCrossfade&&(o.zoomWrap.css("height",o.$elem.height()),o.zoomWrap.css("width",o.$elem.width())),o.options.constrainType&&("height"==o.options.constrainType&&(o.zoomContainer.css("height",o.options.constrainSize),o.zoomContainer.css("width","auto"),o.options.imageCrossfade?(o.zoomWrap.css("height",o.options.constrainSize),o.zoomWrap.css("width","auto"),o.constwidth=o.zoomWrap.width()):(o.$elem.css("height",o.options.constrainSize),o.$elem.css("width","auto"),o.constwidth=o.$elem.width()),"inner"==o.options.zoomType&&(o.zoomWrap.parent().css("height",o.options.constrainSize),o.zoomWrap.parent().css("width",o.constwidth),o.zoomWindow.css("height",o.options.constrainSize),o.zoomWindow.css("width",o.constwidth)),o.options.tint&&(o.tintContainer.css("height",o.options.constrainSize),o.tintContainer.css("width",o.constwidth),o.zoomTint.css("height",o.options.constrainSize),o.zoomTint.css("width",o.constwidth),o.zoomTintImage.css("height",o.options.constrainSize),o.zoomTintImage.css("width",o.constwidth))),"width"==o.options.constrainType&&(o.zoomContainer.css("height","auto"),o.zoomContainer.css("width",o.options.constrainSize),o.options.imageCrossfade?(o.zoomWrap.css("height","auto"),o.zoomWrap.css("width",o.options.constrainSize),o.constheight=o.zoomWrap.height()):(o.$elem.css("height","auto"),o.$elem.css("width",o.options.constrainSize),o.constheight=o.$elem.height()),"inner"==o.options.zoomType&&(o.zoomWrap.parent().css("height",o.constheight),o.zoomWrap.parent().css("width",o.options.constrainSize),o.zoomWindow.css("height",o.constheight),o.zoomWindow.css("width",o.options.constrainSize)),o.options.tint&&(o.tintContainer.css("height",o.constheight),o.tintContainer.css("width",o.options.constrainSize),o.zoomTint.css("height",o.constheight),o.zoomTint.css("width",o.options.constrainSize),o.zoomTintImage.css("height",o.constheight),o.zoomTintImage.css("width",o.options.constrainSize))))},doneCallback:function(){this.options.loadingIcon&&this.spinner.hide(),this.nzOffset=this.$elem.offset(),this.nzWidth=this.$elem.width(),this.nzHeight=this.$elem.height(),this.currentZoomLevel=this.options.zoomLevel,this.widthRatio=this.largeWidth/this.nzWidth,this.heightRatio=this.largeHeight/this.nzHeight,"window"==this.options.zoomType&&(lensHeight=this.nzHeight<this.options.zoomWindowWidth/this.widthRatio?this.nzHeight:String(this.options.zoomWindowHeight/this.heightRatio),lensWidth=this.options.zoomWindowWidth<this.options.zoomWindowWidth?this.nzWidth:this.options.zoomWindowWidth/this.widthRatio,this.zoomLens&&(this.zoomLens.css("width",lensWidth),this.zoomLens.css("height",lensHeight)))},getCurrentImage:function(){return this.zoomImage},getGalleryList:function(){var e=this;return e.gallerylist=[],e.options.gallery?t("#"+e.options.gallery+" a").each(function(){var i="";t(this).data("zoom-image")?i=t(this).data("zoom-image"):t(this).data("image")&&(i=t(this).data("image")),i==e.zoomImage?e.gallerylist.unshift({href:""+i,title:t(this).find("img").attr("title")}):e.gallerylist.push({href:""+i,title:t(this).find("img").attr("title")})}):e.gallerylist.push({href:""+e.zoomImage,title:t(this).find("img").attr("title")}),e.gallerylist},changeZoomLevel:function(t){this.scrollingLock=!0,this.newvalue=parseFloat(t).toFixed(2),newvalue=parseFloat(t).toFixed(2),maxheightnewvalue=this.largeHeight/(this.options.zoomWindowHeight/this.nzHeight*this.nzHeight),maxwidthtnewvalue=this.largeWidth/(this.options.zoomWindowWidth/this.nzWidth*this.nzWidth),"inner"!=this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/maxheightnewvalue/this.nzHeight,this.newvalueheight=maxheightnewvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/maxwidthtnewvalue/this.nzWidth,this.newvaluewidth=maxwidthtnewvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1),"lens"==this.options.zoomType&&(maxheightnewvalue<=newvalue?(this.fullwidth=!0,this.newvaluewidth=maxheightnewvalue):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1))),"inner"==this.options.zoomType&&(maxheightnewvalue=parseFloat(this.largeHeight/this.nzHeight).toFixed(2),maxwidthtnewvalue=parseFloat(this.largeWidth/this.nzWidth).toFixed(2),newvalue>maxheightnewvalue&&(newvalue=maxheightnewvalue),newvalue>maxwidthtnewvalue&&(newvalue=maxwidthtnewvalue),maxheightnewvalue<=newvalue?(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!0):(this.heightRatio=this.largeHeight/newvalue/this.nzHeight,this.newvalueheight=newvalue>maxheightnewvalue?maxheightnewvalue:newvalue,this.fullheight=!1),maxwidthtnewvalue<=newvalue?(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue>maxwidthtnewvalue?maxwidthtnewvalue:newvalue,this.fullwidth=!0):(this.widthRatio=this.largeWidth/newvalue/this.nzWidth,this.newvaluewidth=newvalue,this.fullwidth=!1)),scrcontinue=!1,"inner"==this.options.zoomType&&(this.nzWidth>this.nzHeight&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0)),this.nzHeight>this.nzWidth&&(this.newvaluewidth<=maxwidthtnewvalue?scrcontinue=!0:(scrcontinue=!1,this.fullwidth=this.fullheight=!0))),"inner"!=this.options.zoomType&&(scrcontinue=!0),scrcontinue&&(this.zoomLock=0,this.changeZoom=!0,this.options.zoomWindowHeight/this.heightRatio<=this.nzHeight&&(this.currentZoomLevel=this.newvalueheight,"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({height:String(this.options.zoomWindowHeight/this.heightRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),this.options.zoomWindowWidth/this.widthRatio<=this.nzWidth&&("inner"!=this.options.zoomType&&this.newvaluewidth>this.newvalueheight&&(this.currentZoomLevel=this.newvaluewidth),"lens"!=this.options.zoomType&&"inner"!=this.options.zoomType&&(this.changeBgSize=!0,this.zoomLens.css({width:String(this.options.zoomWindowWidth/this.widthRatio)+"px"})),"lens"==this.options.zoomType||"inner"==this.options.zoomType)&&(this.changeBgSize=!0),"inner"==this.options.zoomType&&(this.changeBgSize=!0,this.nzWidth>this.nzHeight&&(this.currentZoomLevel=this.newvaluewidth),this.nzHeight>this.nzWidth&&(this.currentZoomLevel=this.newvaluewidth))),this.setPosition(this.currentLoc)},closeAll:function(){self.zoomWindow&&self.zoomWindow.hide(),self.zoomLens&&self.zoomLens.hide(),self.zoomTint&&self.zoomTint.hide()},changeState:function(t){"enable"==t&&(this.options.zoomEnabled=!0),"disable"==t&&(this.options.zoomEnabled=!1)}};t.fn.elevateZoom=function(e){return this.each(function(){var i=Object.create(n);i.init(e,this),t.data(this,"elevateZoom",i)})},t.fn.elevateZoom.options={zoomActivation:"hover",zoomEnabled:!0,preloading:1,zoomLevel:1,scrollZoom:!1,scrollZoomIncrement:.1,minZoomLevel:!1,maxZoomLevel:!1,easing:!1,easingAmount:12,lensSize:200,zoomWindowWidth:400,zoomWindowHeight:400,zoomWindowOffetx:0,zoomWindowOffety:0,zoomWindowPosition:1,zoomWindowBgColour:"#fff",lensFadeIn:!1,lensFadeOut:!1,debug:!1,zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowAlwaysShow:!1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,borderSize:4,showLens:!0,borderColour:"#888",lensBorderSize:1,lensBorderColour:"#000",lensShape:"square",zoomType:"window",containLensZoom:!1,lensColour:"white",lensOpacity:.4,lenszoom:!1,tint:!1,tintColour:"#333",tintOpacity:.4,gallery:!1,galleryActiveClass:"zoomGalleryActive",imageCrossfade:!1,constrainType:!1,constrainSize:!1,loadingIcon:!1,cursor:"default",responsive:!0,onComplete:t.noop,onZoomedImageLoaded:function(){},onImageSwap:t.noop,onImageSwapComplete:t.noop}}(jQuery,window,document),function(t,e,i,o){"use strict";t.fn.pagepiling=function(n){function s(t){t.addClass("pp-table").wrapInner('<div class="pp-tableCell" style="height:100%" />')}function a(e){return t(".pp-section.active").index(".pp-section")>e.index(".pp-section")?"up":"down"}function r(e,i){var o={destination:e,animated:i,activeSection:t(".pp-section.active"),anchorLink:e.data("anchor"),sectionIndex:e.index(".pp-section"),toMove:e,yMovement:a(e),leavingSection:t(".pp-section.active").index(".pp-section")+1};if(!o.activeSection.is(e)){void 0===o.animated&&(o.animated=!0),void 0!==o.anchorLink&&u(o.anchorLink,o.sectionIndex),o.destination.addClass("active").siblings().removeClass("active"),o.sectionsToMove=d(o),"down"===o.yMovement?(o.translate3d=A(),o.scrolling="-100%",X.css3||o.sectionsToMove.each(function(e){e!=o.activeSection.index(".pp-section")&&t(this).css(p(o.scrolling))}),o.animateSection=o.activeSection):(o.translate3d="translate3d(0px, 0px, 0px)",o.scrolling="0",o.animateSection=e),t.isFunction(X.onLeave)&&X.onLeave.call(this,o.leavingSection,o.sectionIndex+1,o.yMovement),l(o),O(o.anchorLink),P(o.anchorLink,o.sectionIndex),M=o.anchorLink;var n=(new Date).getTime();N=n}}function l(e){X.css3?(w(e.animateSection,e.translate3d,e.animated),e.sectionsToMove.each(function(){w(t(this),e.translate3d,e.animated)}),setTimeout(function(){h(e)},X.scrollingSpeed)):(e.scrollOptions=p(e.scrolling),e.animated?e.animateSection.animate(e.scrollOptions,X.scrollingSpeed,X.easing,function(){c(e),h(e)}):(e.animateSection.css(p(e.scrolling)),setTimeout(function(){c(e),h(e)},400)))}function h(e){t.isFunction(X.afterLoad)&&X.afterLoad.call(this,e.anchorLink,e.sectionIndex+1)}function d(e){return"down"===e.yMovement?t(".pp-section").map(function(i){if(i<e.destination.index(".pp-section"))return t(this)}):t(".pp-section").map(function(i){if(i>e.destination.index(".pp-section"))return t(this)})}function c(e){"up"===e.yMovement&&e.sectionsToMove.each(function(i){t(this).css(p(e.scrolling))})}function p(t){return"vertical"===X.direction?{top:t}:{left:t}}function u(t,e){X.anchors.length?(location.hash=t,f(location.hash)):f(String(e))}function f(e){e=e.replace("#",""),t("body")[0].className=t("body")[0].className.replace(/\b\s?pp-viewing-[^\s]+\b/g,""),t("body").addClass("pp-viewing-"+e)}function g(){var o=i.location.hash.replace("#",""),n=o,s=t(e).find('.pp-section[data-anchor="'+n+'"]');s.length>0&&r(s,X.animateAnchor)}function m(){return(new Date).getTime()-N<Q+X.scrollingSpeed}function v(){var o=i.location.hash.replace("#","").split("/"),n=o[0];if(n.length&&n&&n!==M){var s;s=isNaN(n)?t(e).find('[data-anchor="'+n+'"]'):t(".pp-section").eq(n-1),r(s)}}function b(t){return{"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,transform:t}}function w(t,e,i){t.toggleClass("pp-easing",i),t.css(b(e))}function y(e){var o=(new Date).getTime();e=e||i.event;var n=e.wheelDelta||-e.deltaY||-e.detail,s=Math.max(-1,Math.min(1,n)),a=void 0!==e.wheelDeltaX||void 0!==e.deltaX,r=Math.abs(e.wheelDeltaX)<Math.abs(e.wheelDelta)||Math.abs(e.deltaX)<Math.abs(e.deltaY)||!a;U.length>149&&U.shift(),U.push(Math.abs(n));var l=o-G;if(G=o,l>200&&(U=[]),!m()){var h=t(".pp-section.active"),d=S(h);return x(U,10)>=x(U,70)&&r&&(s<0?z("down",d):s>0&&z("up",d)),!1}}function x(t,e){for(var i=0,o=t.slice(Math.max(t.length-e,1)),n=0;n<o.length;n++)i+=o[n];return Math.ceil(i/e)}function z(t,e){var i,o;if("down"==t?(i="bottom",o=R.moveSectionDown):(i="top",o=R.moveSectionUp),e.length>0){if(!_(i,e))return!0;o()}else o()}function _(t,e){return"top"===t?!e.scrollTop():"bottom"===t?e.scrollTop()+1+e.innerHeight()>=e[0].scrollHeight:void 0}function S(t){return t.filter(".pp-scrollable")}function C(){D.get(0).addEventListener?(D.get(0).removeEventListener("mousewheel",y,!1),D.get(0).removeEventListener("wheel",y,!1)):D.get(0).detachEvent("onmousewheel",y)}function T(){D.get(0).addEventListener?(D.get(0).addEventListener("mousewheel",y,!1),D.get(0).addEventListener("wheel",y,!1)):D.get(0).attachEvent("onmousewheel",y)}function $(){if(F){var t=W();D.off("touchstart "+t.down).on("touchstart "+t.down,L),D.off("touchmove "+t.move).on("touchmove "+t.move,B)}}function I(){if(F){var t=W();D.off("touchstart "+t.down),D.off("touchmove "+t.move)}}function W(){return i.PointerEvent?{down:"pointerdown",move:"pointermove",up:"pointerup"}:{down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"}}function k(t){var e=new Array;return e.y=void 0!==t.pageY&&(t.pageY||t.pageX)?t.pageY:t.touches[0].pageY,e.x=void 0!==t.pageX&&(t.pageY||t.pageX)?t.pageX:t.touches[0].pageX,e}function E(t){return void 0===t.pointerType||"mouse"!=t.pointerType}function L(t){var e=t.originalEvent;if(E(e)){var i=k(e);j=i.y,q=i.x}}function B(e){var i=e.originalEvent;if(!H(e.target)&&E(i)){var o=t(".pp-section.active"),n=S(o);if(n.length||e.preventDefault(),!m()){var s=k(i);Z=s.y,Y=s.x,"horizontal"===X.direction&&Math.abs(q-Y)>Math.abs(j-Z)?Math.abs(q-Y)>D.width()/100*X.touchSensitivity&&(q>Y?z("down",n):Y>q&&z("up",n)):Math.abs(j-Z)>D.height()/100*X.touchSensitivity&&(j>Z?z("down",n):Z>j&&z("up",n))}}}function H(e,i){i=i||0;var o=t(e).parent();return!!(i<X.normalScrollElementTouchThreshold&&o.is(X.normalScrollElements))||i!=X.normalScrollElementTouchThreshold&&H(o,++i)}function P(e,i){X.navigation&&(t("#pp-nav").find(".active").removeClass("active"),e?t("#pp-nav").find('a[href="#'+e+'"]').addClass("active"):t("#pp-nav").find("li").eq(i).find("a").addClass("active"))}function O(e){X.menu&&(t(X.menu).find(".active").removeClass("active"),t(X.menu).find('[data-menuanchor="'+e+'"]').addClass("active"))}function A(){return"vertical"!==X.direction?"translate3d(-100%, 0px, 0px)":"translate3d(0px, -100%, 0px)"}var M,R=t.fn.pagepiling,D=t(this),N=0,F="ontouchstart"in i||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,j=0,q=0,Z=0,Y=0,U=[],Q=600,X=t.extend(!0,{direction:"vertical",menu:null,verticalCentered:!0,sectionsColor:[],anchors:[],scrollingSpeed:700,easing:"easeInQuart",loopBottom:!1,loopTop:!1,css3:!0,navigation:{textColor:"#000",bulletsColor:"#000",position:"right",tooltips:[]},normalScrollElements:null,normalScrollElementTouchThreshold:5,touchSensitivity:5,keyboardScrolling:!0,sectionSelector:".section",animateAnchor:!1,afterLoad:null,onLeave:null,afterRender:null},n);t.extend(t.easing,{easeInQuart:function(t,e,i,o,n){return o*(e/=n)*e*e*e+i}}),R.setScrollingSpeed=function(t){X.scrollingSpeed=t},R.setMouseWheelScrolling=function(t){t?T():C()},R.setAllowScrolling=function(t){t?(R.setMouseWheelScrolling(!0),$()):(R.setMouseWheelScrolling(!1),I())},R.setKeyboardScrolling=function(t){X.keyboardScrolling=t},R.moveSectionUp=function(){var e=t(".pp-section.active").prev(".pp-section");!e.length&&X.loopTop&&(e=t(".pp-section").last()),e.length&&r(e)},R.moveSectionDown=function(){var e=t(".pp-section.active").next(".pp-section");!e.length&&X.loopBottom&&(e=t(".pp-section").first()),e.length&&r(e)},R.moveTo=function(i){var o="";o=isNaN(i)?t(e).find('[data-anchor="'+i+'"]'):t(".pp-section").eq(i-1),o.length>0&&r(o)},t(X.sectionSelector).each(function(){t(this).addClass("pp-section")}),X.css3&&(X.css3=function(){var t,n=e.createElement("p"),s={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};e.body.insertBefore(n,null);for(var a in s)n.style[a]!==o&&(n.style[a]="translate3d(1px,1px,1px)",t=i.getComputedStyle(n).getPropertyValue(s[a]));return e.body.removeChild(n),t!==o&&t.length>0&&"none"!==t}()),t(D).css({overflow:"hidden","-ms-touch-action":"none","touch-action":"none"}),R.setAllowScrolling(!0),t.isEmptyObject(X.navigation)||function(){t("body").append('<div id="pp-nav"><ul></ul></div>');var e=t("#pp-nav");e.css("color",X.navigation.textColor),e.addClass(X.navigation.position);for(var i=0;i<t(".pp-section").length;i++){var o="";if(X.anchors.length&&(o=X.anchors[i]),"undefined"!==X.navigation.tooltips){var n=X.navigation.tooltips[i];void 0===n&&(n="")}e.find("ul").append('<li data-tooltip="'+n+'"><a href="#'+o+'"><span></span></a></li>')}e.find("span").css("border-color",X.navigation.bulletsColor)}();var V=t(".pp-section").length;t(".pp-section").each(function(e){t(this).data("data-index",e),t(this).css("z-index",V),e||0!==t(".pp-section.active").length||t(this).addClass("active"),void 0!==X.anchors[e]&&t(this).attr("data-anchor",X.anchors[e]),void 0!==X.sectionsColor[e]&&t(this).css("background-color",X.sectionsColor[e]),X.verticalCentered&&!t(this).hasClass("pp-scrollable")&&s(t(this)),V-=1}).promise().done(function(){X.navigation&&(t("#pp-nav").css("margin-top","-"+t("#pp-nav").height()/2+"px"),t("#pp-nav").find("li").eq(t(".pp-section.active").index(".pp-section")).find("a").addClass("active")),t(i).on("load",function(){g()}),t.isFunction(X.afterRender)&&X.afterRender.call(this)}),t(i).on("hashchange",v),t(e).keydown(function(e){if(X.keyboardScrolling&&!m())switch(e.which){case 38:case 33:R.moveSectionUp();break;case 40:case 34:R.moveSectionDown();break;case 36:R.moveTo(1);break;case 35:R.moveTo(t(".pp-section").length);break;case 37:R.moveSectionUp();break;case 39:R.moveSectionDown();break;default:return}}),X.normalScrollElements&&(t(e).on("mouseenter",X.normalScrollElements,function(){R.setMouseWheelScrolling(!1)}),t(e).on("mouseleave",X.normalScrollElements,function(){R.setMouseWheelScrolling(!0)}));var G=(new Date).getTime();t(e).on("click touchstart","#pp-nav a",function(e){e.preventDefault();var i=t(this).parent().index();r(t(".pp-section").eq(i))}),t(e).on({mouseenter:function(){var e=t(this).data("tooltip");t('<div class="pp-tooltip '+X.navigation.position+'">'+e+"</div>").hide().appendTo(t(this)).fadeIn(200)},mouseleave:function(){t(this).find(".pp-tooltip").fadeOut(200,function(){t(this).remove()})}},"#pp-nav li")}}(jQuery,document,window),function(){var t,e,i,o,n,s=function(t,e){return function(){return t.apply(e,arguments)}},a=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};e=function(){function t(){}return t.prototype.extend=function(t,e){var i,o;for(i in e)o=e[i],null==t[i]&&(t[i]=o);return t},t.prototype.isMobile=function(t){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},t.prototype.createEvent=function(t,e,i,o){var n;return null==e&&(e=!1),null==i&&(i=!1),null==o&&(o=null),null!=document.createEvent?(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e,i,o)):null!=document.createEventObject?(n=document.createEventObject(),n.eventType=t):n.eventName=t,n},t.prototype.emitEvent=function(t,e){return null!=t.dispatchEvent?t.dispatchEvent(e):e in(null!=t)?t[e]():"on"+e in(null!=t)?t["on"+e]():void 0},t.prototype.addEvent=function(t,e,i){return null!=t.addEventListener?t.addEventListener(e,i,!1):null!=t.attachEvent?t.attachEvent("on"+e,i):t[e]=i},t.prototype.removeEvent=function(t,e,i){return null!=t.removeEventListener?t.removeEventListener(e,i,!1):null!=t.detachEvent?t.detachEvent("on"+e,i):delete t[e]},t.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},t}(),i=this.WeakMap||this.MozWeakMap||(i=function(){function t(){this.keys=[],this.values=[]}return t.prototype.get=function(t){var e,i,o,n;for(n=this.keys,e=i=0,o=n.length;o>i;e=++i)if(n[e]===t)return this.values[e]},t.prototype.set=function(t,e){var i,o,n,s;for(s=this.keys,i=o=0,n=s.length;n>o;i=++o)if(s[i]===t)return void(this.values[i]=e);return this.keys.push(t),this.values.push(e)},t}()),t=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(t=function(){function t(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return t.notSupported=!0,t.prototype.observe=function(){},t}()),o=this.getComputedStyle||function(t,e){return this.getPropertyValue=function(e){var i;return"float"===e&&(e="styleFloat"),n.test(e)&&e.replace(n,function(t,e){return e.toUpperCase()}),(null!=(i=t.currentStyle)?i[e]:void 0)||null},this},n=/(\-([a-z]){1})/g,this.WOW=function(){function n(t){null==t&&(t={}),this.scrollCallback=s(this.scrollCallback,this),this.scrollHandler=s(this.scrollHandler,this),this.resetAnimation=s(this.resetAnimation,this),this.start=s(this.start,this),this.scrolled=!0,this.config=this.util().extend(t,this.defaults),null!=t.scrollContainer&&(this.config.scrollContainer=document.querySelector(t.scrollContainer)),this.animationNameCache=new i,this.wowEvent=this.util().createEvent(this.config.boxClass)}return n.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},n.prototype.init=function(){var t;return this.element=window.document.documentElement,"interactive"===(t=document.readyState)||"complete"===t?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},n.prototype.start=function(){var e,i,o,n;if(this.stopped=!1,this.boxes=function(){var t,i,o,n;for(o=this.element.querySelectorAll("."+this.config.boxClass),n=[],t=0,i=o.length;i>t;t++)e=o[t],n.push(e);return n}.call(this),this.all=function(){var t,i,o,n;for(o=this.boxes,n=[],t=0,i=o.length;i>t;t++)e=o[t],n.push(e);return n}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(n=this.boxes,i=0,o=n.length;o>i;i++)e=n[i],this.applyStyle(e,!0);return this.disabled()||(this.util().addEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new t(function(t){return function(e){var i,o,n,s,a;for(a=[],i=0,o=e.length;o>i;i++)s=e[i],a.push(function(){var t,e,i,o;for(i=s.addedNodes||[],o=[],t=0,e=i.length;e>t;t++)n=i[t],o.push(this.doSync(n));return o}.call(t));return a}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},n.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},n.prototype.sync=function(e){return t.notSupported?this.doSync(this.element):void 0},n.prototype.doSync=function(t){var e,i,o,n,s;if(null==t&&(t=this.element),1===t.nodeType){for(t=t.parentNode||t,n=t.querySelectorAll("."+this.config.boxClass),s=[],i=0,o=n.length;o>i;i++)e=n[i],a.call(this.all,e)<0?(this.boxes.push(e),this.all.push(e),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(e,!0),s.push(this.scrolled=!0)):s.push(void 0);return s}},n.prototype.show=function(t){return this.applyStyle(t),t.className=t.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(t),this.util().emitEvent(t,this.wowEvent),this.util().addEvent(t,"animationend",this.resetAnimation),this.util().addEvent(t,"oanimationend",this.resetAnimation),this.util().addEvent(t,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(t,"MSAnimationEnd",this.resetAnimation),t},n.prototype.applyStyle=function(t,e){var i,o,n;return o=t.getAttribute("data-wow-duration"),i=t.getAttribute("data-wow-delay"),n=t.getAttribute("data-wow-iteration"),this.animate(function(s){return function(){return s.customStyle(t,e,o,i,n)}}(this))},n.prototype.animate=function(){return"requestAnimationFrame"in window?function(t){return window.requestAnimationFrame(t)}:function(t){return t()}}(),n.prototype.resetStyle=function(){var t,e,i,o,n;for(o=this.boxes,n=[],e=0,i=o.length;i>e;e++)t=o[e],n.push(t.style.visibility="visible");return n},n.prototype.resetAnimation=function(t){var e;return t.type.toLowerCase().indexOf("animationend")>=0?(e=t.target||t.srcElement,e.className=e.className.replace(this.config.animateClass,"").trim()):void 0},n.prototype.customStyle=function(t,e,i,o,n){return e&&this.cacheAnimationName(t),t.style.visibility=e?"hidden":"visible",i&&this.vendorSet(t.style,{animationDuration:i}),o&&this.vendorSet(t.style,{animationDelay:o}),n&&this.vendorSet(t.style,{animationIterationCount:n}),this.vendorSet(t.style,{animationName:e?"none":this.cachedAnimationName(t)}),t},n.prototype.vendors=["moz","webkit"],n.prototype.vendorSet=function(t,e){var i,o,n,s;o=[];for(i in e)n=e[i],t[""+i]=n,o.push(function(){var e,o,a,r;for(a=this.vendors,r=[],e=0,o=a.length;o>e;e++)s=a[e],r.push(t[""+s+i.charAt(0).toUpperCase()+i.substr(1)]=n);return r}.call(this));return o},n.prototype.vendorCSS=function(t,e){var i,n,s,a,r,l;for(r=o(t),a=r.getPropertyCSSValue(e),s=this.vendors,i=0,n=s.length;n>i;i++)l=s[i],a=a||r.getPropertyCSSValue("-"+l+"-"+e);return a},n.prototype.animationName=function(t){var e;try{e=this.vendorCSS(t,"animation-name").cssText}catch(i){e=o(t).getPropertyValue("animation-name")}return"none"===e?"":e},n.prototype.cacheAnimationName=function(t){return this.animationNameCache.set(t,this.animationName(t))},n.prototype.cachedAnimationName=function(t){return this.animationNameCache.get(t)},n.prototype.scrollHandler=function(){return this.scrolled=!0},n.prototype.scrollCallback=function(){var t;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var e,i,o,n;for(o=this.boxes,n=[],e=0,i=o.length;i>e;e++)(t=o[e])&&(this.isVisible(t)?this.show(t):n.push(t));return n}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},n.prototype.offsetTop=function(t){for(var e;void 0===t.offsetTop;)t=t.parentNode;for(e=t.offsetTop;t=t.offsetParent;)e+=t.offsetTop;return e},n.prototype.isVisible=function(t){var e,i,o,n,s;return i=t.getAttribute("data-wow-offset")||this.config.offset,s=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,n=s+Math.min(this.element.clientHeight,this.util().innerHeight())-i,o=this.offsetTop(t),e=o+t.clientHeight,n>=o&&e>=s},n.prototype.util=function(){return null!=this._util?this._util:this._util=new e},n.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},n}()}.call(this),function(t,e){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,r){function l(t,e,o){var n,s="$()."+i+'("'+e+'")';return t.each(function(t,l){var h=r.data(l,i);if(!h)return void a(i+" not initialized. Cannot call methods, i.e. "+s);var d=h[e];if(!d||"_"==e.charAt(0))return void a(s+" is not a valid method");var c=d.apply(h,o);n=void 0===n?c:n}),void 0!==n?n:t}function h(t,e){t.each(function(t,o){var n=r.data(o,i);n?(n.option(e),n._init()):(n=new s(o,e),r.data(o,i,n))})}(r=r||e||t.jQuery)&&(s.prototype.option||(s.prototype.option=function(t){r.isPlainObject(t)&&(this.options=r.extend(!0,this.options,t))}),r.fn[i]=function(t){if("string"==typeof t){return l(this,t,n.call(arguments,1))}return h(this,t),this},o(r))}function o(t){!t||t&&t.bridget||(t.bridget=i)}var n=Array.prototype.slice,s=t.console,a=void 0===s?function(){}:function(t){s.error(t)};return o(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},o=i[t]=i[t]||[];return-1==o.indexOf(e)&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{};return(i[t]=i[t]||{})[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var o=i.indexOf(e);return-1!=o&&i.splice(o,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var o=0,n=i[o];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];n;){var a=s&&s[n];a&&(this.off(t,n),delete s[n]),n.apply(this,e),o+=a?0:1,n=i[o]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;h>e;e++){t[l[e]]=0}return t}function o(t){var e=getComputedStyle(t);return e||r("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function n(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=o(e);s.isBoxSizeOuter=a=200==t(n.width),i.removeChild(e)}}function s(e){if(n(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var s=o(e);if("none"==s.display)return i();var r={};r.width=e.offsetWidth,r.height=e.offsetHeight;for(var d=r.isBorderBox="border-box"==s.boxSizing,c=0;h>c;c++){var p=l[c],u=s[p],f=parseFloat(u);r[p]=isNaN(f)?0:f}var g=r.paddingLeft+r.paddingRight,m=r.paddingTop+r.paddingBottom,v=r.marginLeft+r.marginRight,b=r.marginTop+r.marginBottom,w=r.borderLeftWidth+r.borderRightWidth,y=r.borderTopWidth+r.borderBottomWidth,x=d&&a,z=t(s.width);!1!==z&&(r.width=z+(x?0:g+w));var _=t(s.height);return!1!==_&&(r.height=_+(x?0:m+y)),r.innerWidth=r.width-(g+w),r.innerHeight=r.height-(m+y),r.outerWidth=r.width+v,r.outerHeight=r.height+b,r}}var a,r="undefined"==typeof console?e:function(t){console.error(t)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=l.length,d=!1;return s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var o=e[i],n=o+"MatchesSelector";if(t[n])return n}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,o){t=i.makeArray(t);var n=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!o)return void n.push(t);e(t,o)&&n.push(t);for(var i=t.querySelectorAll(o),s=0;s<i.length;s++)n.push(i[s])}}),n},
i.debounceMethod=function(t,e,i){var o=t.prototype[e],n=e+"Timeout";t.prototype[e]=function(){var t=this[n];t&&clearTimeout(t);var e=arguments,s=this;this[n]=setTimeout(function(){o.apply(s,e),delete s[n]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var o=t.console;return i.htmlInit=function(e,n){i.docReady(function(){var s=i.toDashed(n),a="data-"+s,r=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+s),h=i.makeArray(r).concat(i.makeArray(l)),d=a+"-options",c=t.jQuery;h.forEach(function(t){var i,s=t.getAttribute(a)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(e){return void(o&&o.error("Error parsing "+a+" on "+t.className+": "+e))}var r=new e(t,i);c&&c.data(t,n,r)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return null,!0}function o(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}var n=document.documentElement.style,s="string"==typeof n.transition?"transition":"WebkitTransition",a="string"==typeof n.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[s],l={transform:a,transition:s,transitionDuration:s+"Duration",transitionProperty:s+"Property",transitionDelay:s+"Delay"},h=o.prototype=Object.create(t.prototype);h.constructor=o,h._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},h.getSize=function(){this.size=e(this.element)},h.css=function(t){var e=this.element.style;for(var i in t){e[l[i]||i]=t[i]}},h.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=t[e?"left":"right"],n=t[i?"top":"bottom"],s=this.layout.size,a=-1!=o.indexOf("%")?parseFloat(o)/100*s.width:parseInt(o,10),r=-1!=n.indexOf("%")?parseFloat(n)/100*s.height:parseInt(n,10);a=isNaN(a)?0:a,r=isNaN(r)?0:r,a-=e?s.paddingLeft:s.paddingRight,r-=i?s.paddingTop:s.paddingBottom,this.position.x=a,this.position.y=r},h.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop"),n=i?"paddingLeft":"paddingRight",s=i?"left":"right",a=i?"right":"left",r=this.position.x+t[n];e[s]=this.getXValue(r),e[a]="";var l=o?"paddingTop":"paddingBottom",h=o?"top":"bottom",d=o?"bottom":"top",c=this.position.y+t[l];e[h]=this.getYValue(c),e[d]="",this.css(e),this.emitEvent("layout",[this])},h.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},h.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},h._transitionTo=function(t,e){this.getPosition();var i=this.position.x,o=this.position.y,n=parseInt(t,10),s=parseInt(e,10),a=n===this.position.x&&s===this.position.y;if(this.setPosition(t,e),a&&!this.isTransitioning)return void this.layoutPosition();var r=t-i,l=e-o,h={};h.transform=this.getTranslate(r,l),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},h.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop");return t=i?t:-t,e=o?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},h.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},h.moveTo=h._transitionTo,h.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},h._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},h.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var d="opacity,"+function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}(a);h.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:d,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},h.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},h.onotransitionend=function(t){this.ontransitionend(t)};var c={"-webkit-transform":"transform"};h.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,o=c[t.propertyName]||t.propertyName;if(delete e.ingProperties[o],i(e.ingProperties)&&this.disableTransition(),o in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[o]),o in e.onEnd){e.onEnd[o].call(this),delete e.onEnd[o]}this.emitEvent("transitionEnd",[this])}},h.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},h._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var p={transitionProperty:"",transitionDuration:"",transitionDelay:""};return h.removeTransitionStyles=function(){this.css(p)},h.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},h.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},h.remove=function(){return s&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},h.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},h.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},h.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},h.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={};e[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},h.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},h.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},o}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,o,n,s){return e(t,i,o,n,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,o,n){"use strict";function s(t,e){var i=o.getQueryElement(t);if(!i)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=o.extend({},this.constructor.defaults),this.option(e);var n=++c;this.element.outlayerGUID=n,p[n]=this,this._create(),this._getOption("initLayout")&&this.layout()}function a(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function r(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],o=e&&e[2];return i.length?(i=parseFloat(i))*(f[o]||1):0}var l=t.console,h=t.jQuery,d=function(){},c=0,p={};s.namespace="outlayer",s.Item=n,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var u=s.prototype;o.extend(u,e.prototype),u.option=function(t){o.extend(this.options,t)},u._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},u._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),o.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},u.reloadItems=function(){this.items=this._itemize(this.element.children)},u._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,o=[],n=0;n<e.length;n++){var s=e[n],a=new i(s,this);o.push(a)}return o},u._filterFindItemElements=function(t){return o.filterFindElements(t,this.options.itemSelector)},u.getItemElements=function(){return this.items.map(function(t){return t.element})},u.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},u._init=u.layout,u._resetLayout=function(){this.getSize()},u.getSize=function(){this.size=i(this.element)},u._getMeasurement=function(t,e){var o,n=this.options[t];n?("string"==typeof n?o=this.element.querySelector(n):n instanceof HTMLElement&&(o=n),this[t]=o?i(o)[e]:n):this[t]=0},u.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},u._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},u._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var o=this._getItemLayoutPosition(t);o.item=t,o.isInstant=e||t.isLayoutInstant,i.push(o)},this),this._processLayoutQueue(i)}},u._getItemLayoutPosition=function(){return{x:0,y:0}},u._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},u.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=r(t),this.stagger)},u._positionItem=function(t,e,i,o,n){o?t.goTo(e,i):(t.stagger(n*this.stagger),t.moveTo(e,i))},u._postLayout=function(){this.resizeContainer()},u.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},u._getContainerSize=d,u._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},u._emitCompleteOnItems=function(t,e){function i(){n.dispatchEvent(t+"Complete",null,[e])}function o(){++a==s&&i()}var n=this,s=e.length;if(!e||!s)return void i();var a=0;e.forEach(function(e){e.once(t,o)})},u.dispatchEvent=function(t,e,i){var o=e?[e].concat(i):i;if(this.emitEvent(t,o),h)if(this.$element=this.$element||h(this.element),e){var n=h.Event(e);n.type=t,this.$element.trigger(n,i)}else this.$element.trigger(t,i)},u.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},u.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},u.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},u.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){o.removeFrom(this.stamps,t),this.unignore(t)},this)},u._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=o.makeArray(t)):void 0},u._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},u._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},u._manageStamp=d,u._getElementOffset=function(t){var e=t.getBoundingClientRect(),o=this._boundingRect,n=i(t);return{left:e.left-o.left-n.marginLeft,top:e.top-o.top-n.marginTop,right:o.right-e.right-n.marginRight,bottom:o.bottom-e.bottom-n.marginBottom}},u.handleEvent=o.handleEvent,u.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},u.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},u.onresize=function(){this.resize()},o.debounceMethod(s,"onresize",100),u.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},u.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},u.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},u.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},u.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},u.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},u.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},u.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},u.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},u.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},u.getItems=function(t){t=o.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},u.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),o.removeFrom(this.items,t)},this)},u.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete p[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=o.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&p[e]},s.create=function(t,e){var i=a(s);return i.defaults=o.extend({},s.defaults),o.extend(i.defaults,e),i.compatOptions=o.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=a(n),o.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i};var f={ms:1,s:1e3};return s.Item=n,s}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var o=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,s=n/o,a=o-n%o,r=a&&1>a?"round":"floor";s=Math[r](s),this.cols=Math.max(s,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,o=e(i);this.containerWidth=o&&o.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",o=Math[i](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var n=this._getColGroup(o),s=Math.min.apply(Math,n),a=n.indexOf(s),r={x:this.columnWidth*a,y:s},l=s+t.size.outerHeight,h=this.cols+1-n.length,d=0;h>d;d++)this.colYs[a+d]=l;return r},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,o=0;i>o;o++){var n=this.colYs.slice(o,o+t);e[o]=Math.max.apply(Math,n)}return e},i.prototype._manageStamp=function(t){var i=e(t),o=this._getElementOffset(t),n=this._getOption("originLeft"),s=n?o.left:o.right,a=s+i.outerWidth,r=Math.floor(s/this.columnWidth);r=Math.max(0,r);var l=Math.floor(a/this.columnWidth);l-=a%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var h=this._getOption("originTop"),d=(h?o.top:o.bottom)+i.outerHeight,c=r;l>=c;c++)this.colYs[c]=Math.max(d,this.colYs[c])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,o=window.Cookies=t();o.noConflict=function(){return window.Cookies=i,o}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var o in i)e[o]=i[o]}return e}function e(i){function o(e,n,s){var a;if("undefined"!=typeof document){if(arguments.length>1){if(s=t({path:"/"},o.defaults,s),"number"==typeof s.expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*s.expires),s.expires=r}try{a=JSON.stringify(n),/^[\{\[]/.test(a)&&(n=a)}catch(t){}return n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",n,s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}e||(a={});for(var l=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var c=l[d].split("="),p=c.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var u=c[0].replace(h,decodeURIComponent);if(p=i.read?i.read(p,u):i(p,u)||p.replace(h,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(t){}if(e===u){a=p;break}e||(a[u]=p)}catch(t){}}return a}}return o.set=o,o.get=function(t){return o.call(o,t)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(e,i){o(e,"",t(i,{expires:-1}))},o.withConverter=e,o}return e(function(){})}),function(t){t&&(t.fn.headroom=function(e){return this.each(function(){var i=t(this),o=i.data("headroom"),n="object"==typeof e&&e;n=t.extend(!0,{},Headroom.options,n),o||(o=new Headroom(this,n),o.init(),i.data("headroom",o)),"string"==typeof e&&(o[e](),"destroy"===e&&i.removeData("headroom"))})},t("[data-headroom]").each(function(){var e=t(this);e.headroom(e.data())}))}(window.Zepto||window.jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():t.Headroom=e()}(this,function(){"use strict";function t(t){this.callback=t,this.ticking=!1}function e(t){return t&&"undefined"!=typeof window&&(t===window||t.nodeType)}function i(t){if(arguments.length<=0)throw new Error("Missing arguments in extend function");var o,n,s=t||{};for(n=1;n<arguments.length;n++){var a=arguments[n]||{};for(o in a)"object"!=typeof s[o]||e(s[o])?s[o]=s[o]||a[o]:s[o]=i(s[o],a[o])}return s}function o(t){return t===Object(t)?t:{down:t,up:t}}function n(t,e){e=i(e,n.options),this.lastKnownScrollY=0,this.elem=t,this.tolerance=o(e.tolerance),this.classes=e.classes,this.offset=e.offset,this.scroller=e.scroller,this.initialised=!1,this.onPin=e.onPin,this.onUnpin=e.onUnpin,this.onTop=e.onTop,this.onNotTop=e.onNotTop,this.onBottom=e.onBottom,this.onNotBottom=e.onNotBottom}var s={bind:!!function(){}.bind,classList:"classList"in document.documentElement,rAF:!!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)};return window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,t.prototype={constructor:t,update:function(){this.callback&&this.callback(),this.ticking=!1},requestTick:function(){this.ticking||(requestAnimationFrame(this.rafCallback||(this.rafCallback=this.update.bind(this))),this.ticking=!0)},handleEvent:function(){this.requestTick()}},n.prototype={constructor:n,init:function(){return n.cutsTheMustard?(this.debouncer=new t(this.update.bind(this)),this.elem.classList.add(this.classes.initial),setTimeout(this.attachEvent.bind(this),100),this):void 0},destroy:function(){var t=this.classes;this.initialised=!1,this.elem.classList.remove(t.unpinned,t.pinned,t.top,t.notTop,t.initial),this.scroller.removeEventListener("scroll",this.debouncer,!1)},attachEvent:function(){this.initialised||(this.lastKnownScrollY=this.getScrollY(),this.initialised=!0,this.scroller.addEventListener("scroll",this.debouncer,!1),this.debouncer.handleEvent())},unpin:function(){var t=this.elem.classList,e=this.classes;!t.contains(e.pinned)&&t.contains(e.unpinned)||(t.add(e.unpinned),t.remove(e.pinned),this.onUnpin&&this.onUnpin.call(this))},pin:function(){var t=this.elem.classList,e=this.classes;t.contains(e.unpinned)&&(t.remove(e.unpinned),t.add(e.pinned),this.onPin&&this.onPin.call(this))},top:function(){var t=this.elem.classList,e=this.classes;t.contains(e.top)||(t.add(e.top),t.remove(e.notTop),this.onTop&&this.onTop.call(this))},notTop:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notTop)||(t.add(e.notTop),t.remove(e.top),this.onNotTop&&this.onNotTop.call(this))},bottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.bottom)||(t.add(e.bottom),t.remove(e.notBottom),this.onBottom&&this.onBottom.call(this))},notBottom:function(){var t=this.elem.classList,e=this.classes;t.contains(e.notBottom)||(t.add(e.notBottom),t.remove(e.bottom),this.onNotBottom&&this.onNotBottom.call(this))},getScrollY:function(){return void 0!==this.scroller.pageYOffset?this.scroller.pageYOffset:void 0!==this.scroller.scrollTop?this.scroller.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop},getViewportHeight:function(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},getElementPhysicalHeight:function(t){return Math.max(t.offsetHeight,t.clientHeight)},getScrollerPhysicalHeight:function(){return this.scroller===window||this.scroller===document.body?this.getViewportHeight():this.getElementPhysicalHeight(this.scroller)},getDocumentHeight:function(){var t=document.body,e=document.documentElement;return Math.max(t.scrollHeight,e.scrollHeight,t.offsetHeight,e.offsetHeight,t.clientHeight,e.clientHeight)},getElementHeight:function(t){return Math.max(t.scrollHeight,t.offsetHeight,t.clientHeight)},getScrollerHeight:function(){return this.scroller===window||this.scroller===document.body?this.getDocumentHeight():this.getElementHeight(this.scroller)},isOutOfBounds:function(t){var e=0>t,i=t+this.getScrollerPhysicalHeight()>this.getScrollerHeight();return e||i},toleranceExceeded:function(t,e){return Math.abs(t-this.lastKnownScrollY)>=this.tolerance[e]},shouldUnpin:function(t,e){var i=t>this.lastKnownScrollY,o=t>=this.offset;return i&&o&&e},shouldPin:function(t,e){var i=t<this.lastKnownScrollY,o=t<=this.offset;return i&&e||o},update:function(){var t=this.getScrollY(),e=t>this.lastKnownScrollY?"down":"up",i=this.toleranceExceeded(t,e);this.isOutOfBounds(t)||(t<=this.offset?this.top():this.notTop(),t+this.getViewportHeight()>=this.getScrollerHeight()?this.bottom():this.notBottom(),this.shouldUnpin(t,i)?this.unpin():this.shouldPin(t,i)&&this.pin(),this.lastKnownScrollY=t)}},n.options={tolerance:{up:0,down:0},offset:0,scroller:window,classes:{pinned:"headroom--pinned",unpinned:"headroom--unpinned",top:"headroom--top",notTop:"headroom--not-top",bottom:"headroom--bottom",notBottom:"headroom--not-bottom",initial:"headroom"}},n.cutsTheMustard=void 0!==s&&s.rAF&&s.bind&&s.classList,n}),jQuery(document).ready(function(){var t=jQuery;t(function(){t(".about__timeline__btn").click(function(){t(this).toggleClass("is-active"),t("body").toggleClass("show-about-timeline"),t(".is-active").click(function(){t("body").toggleClass("hide-about-timeline")})})}),t(function(){t(".about__scroller__btn").click(function(){t(this).toggleClass("is-active"),t("body").toggleClass("show-about-scroller"),t(".is-active").click(function(){t("body").toggleClass("hide-about-scroller")})})}),t(".about__scroller__btn:not(.about__scroller__btn--close)").on("click",function(){t("#pagepilling").pagepiling()}),t(".about__scroller__btn--close").on("click",function(){t("#pillingcss").remove(),t("#pillingjs").remove()}),t(".about__scroller__start").on("click",function(){t.fn.pagepiling.moveTo(1),t("body").scrollTop(t(window).height()),t("#pagepilling").show(),t("#pp-nav").show(),t(".about__scroller").hide(),t(".about__timeline").hide(),t(".about__scroller__btn").hide(),t(".about__sidetitle").hide()}),t(".scroller__top").on("click",function(){t(".about__scroller").show(),t(".about__timeline").show(),t(".about__scroller__btn").show(),t(".about__sidetitle").show(),t("#pagepilling").hide(),t("#pp-nav").hide(),t("body").scrollTop(0)}),t(".section__next").on("click",function(){t.fn.pagepiling.moveSectionDown()})});var $=jQuery;$(document).ready(function(){$("#basket-link").on("click",function(t){t.preventDefault(),t.stopPropagation(),document.querySelector(".basket-dropdown").classList.contains("open")?document.querySelector(".basket-dropdown").classList.remove("open"):document.querySelector(".basket-dropdown").classList.add("open")}),$(".close-basket-dropdown").on("click",function(t){t.preventDefault(),t.stopPropagation(),document.querySelector(".basket-dropdown").classList.remove("open")})});var $=jQuery;$(document).ready(function(){if($("body").hasClass("page-template-contact")){var t=setInterval(function(){window.location.hash&&window.scrollTo(0,0)},1);setTimeout(function(){clearInterval(t)},200)}$(".contact-select select").change(function(){var t=$(".contact-select select").val(),e=setInterval(function(){window.location.hash&&window.scrollTo(0,0)},1);setTimeout(function(){clearInterval(e)},200),window.location.hash=t,showCorrectForm(t)});var e=window.location.hash.substr(1);""!==e&&["general","press","trade"].indexOf(e)>-1&&($('.contact-select select option[value="'+e+'"]').attr("selected","selected"),showCorrectForm(e))});var $=jQuery;$(document).ready(function(){if($("body").hasClass("page-template-retailer")){var t={},e=14,i=document.getElementById("google-map"),o=$(i).data("ukcenter"),n=$(i).data("overseascenter");if(""!==o){var s=o.split(" ");t={lat:parseFloat(s[0]),lng:parseFloat(s[1])},e=11}else if(""!==n){var s=n.split(" ");t={lat:parseFloat(s[0]),lng:parseFloat(s[1])},e=7}else t={lat:51.475,lng:-.1875},e=14;createMap(t,e,i)}});var $=jQuery,INSP_CONTENT={};switch(INSP_CONTENT.hash=window.location.hash,INSP_CONTENT.hash){case"#room-shots":INSP_CONTENT.content="photos";break;case"#videos":INSP_CONTENT.content="videos";break;default:INSP_CONTENT.content="social"}$(document).ready(function(){function t(t,e){var o=i[t]-i[e];o>-25&&(o=-25);var n=-2*o+"px";$($(".timeline__event__line")[t]).css("margin-top",n)}if("social"!==INSP_CONTENT.content){$(".inspiration__social").hide();var e=".inspiration__"+INSP_CONTENT.content;$(e).show()}if("photos"===INSP_CONTENT.content&&$(".grid").masonry({itemSelector:".grid-item",percentPosition:!0}),$("body").hasClass("page-template-inspiration")){for(var i=[],o=0;o<10;o++)void 0!==$(".timeline__event__ball")[o]?i[o]=$($(".timeline__event__ball")[o]).offset().top:i[o]=1e7;i[1]<i[0]&&t(1,0),i[3]<i[2]&&t(3,2),i[5]<i[4]&&t(5,4),i[7]<i[6]&&t(7,6),i[9]<i[8]&&t(9,8)}});var $=jQuery;$(document).ready(function(){$(".insp-menu__link").on("click",function(t){t.preventDefault(),t.stopPropagation();var e=$(this).data("content");switch(window.location.hash=e,e){case"social":$(".inspiration__photos").hide(),$(".inspiration__videos").hide(),$(".inspiration__social").show();break;case"room-shots":$(".inspiration__social").hide(),$(".inspiration__videos").hide(),$(".inspiration__photos").show(),$(".grid").masonry({itemSelector:".grid-item",percentPosition:!0});break;case"videos":$(".inspiration__photos").hide(),$(".inspiration__social").hide(),$(".inspiration__videos").show()}return!1})}),jQuery(document).ready(function(){var t=jQuery;t(function(){t(".main-menu__button").on("click",function(e){t(this).toggleClass("is-active"),t("body").toggleClass("show-menu");var i=!0;t("header").hasClass("collapsed")&&(t("header").removeClass("collapsed"),i=!1),t(".show-menu .main-menu__wrap").css("z-index","99999"),setTimeout(function(){t(".top-bar").toggleClass("-relative"),i&&window.innerWidth<451&&t("header").addClass("collapsed"),t(".top-bar").hasClass("apply-dark-background")?t(".top-bar").removeClass("apply-dark-background"):t(".top-bar").addClass("apply-dark-background"),t(".show-menu .main-menu__wrap").css("z-index","9999")},800),window.innerWidth<993&&(t("body").hasClass("show-menu")?t(".top-bar__left").hide():setTimeout(function(){t(".top-bar__left").show()},400))})}),t("html").click(function(){t("body").removeClass("show-menu"),t(".main-menu__button").removeClass("is-active")}),t(".main-menu, .main-menu__button").click(function(t){t.stopPropagation()})}),$(window).resize(function(){$("body").hasClass("show-menu")&&(window.innerWidth<993?$(".top-bar__left").hide():$(".top-bar__left").show())});var $=jQuery;$(document).ready(function(){$(".change-image-view").on("click",function(t){t.preventDefault(),t.stopPropagation();var e,i,o;return"top"===$(this).data("view")?(e=$(this).data("angle"),i="angle",o="auto"):(e=$(this).data("top"),i="top",o="450px"),$(this).siblings("img").attr("src",e),$(this).data("view",i),$(this).siblings("img").on("load",function(){$(this).parent().css("height",o);var t=$(this).parent().parent().parent().parent().height();$(".material-view-slider").css("min-height",t+"px")}),!1}),$(document).on("click","#add-swatch-to-basket",function(t){t.preventDefault(),t.stopPropagation(),$("body").css("cursor","wait"),$("a").css("cssText","cursor: wait !important;");var e=($(this).data("product-name"),$(this).data("product-id")),i=window.location.href+"?post_type=product&add-to-cart="+e;return $.get(i).done(function(){window.location.reload(),$("body").removeClass("basket-empty"),$("body").addClass("basket-full");var t=parseInt($("#num-items-basket").text()),e=t+1;$("#num-items-basket").text(e)}).fail(function(){}),!1})});var sliderInterval=setInterval(function(){if($(".slidee").length>0){var t=$($(".slidee")[0]).data("total");$(".slidee").length===t&&startSlider()}},1),$=jQuery;$(document).ready(function(){var t=$(".materials-slider").bxSlider({mode:"fade",onSliderLoad:function(){var t=$(".materials-slider li.material-slide")[0],e=$(t).data("material");$(".next-slide.--material-slider").addClass(e),
$(".prev-slide.--material-slider").addClass(e)}});$(".next-slide.--material-slider").on("click",function(){t.goToNextSlide();var e;$(".slide__list li").each(function(t,i){$(i).children("img").hasClass("active")&&(e=$(i).data("slide"),$(i).children("img").removeClass("active"))});var i=e+1;5===e&&(i=0),$('.slide__list li[data-slide="'+i+'"] img').addClass("active");var o=$(".materials-slider li.material-slide")[e],n=$(o).data("material"),s=$(".materials-slider li.material-slide")[i],a=$(s).data("material");$(this).removeClass(n),$(".prev-slide").removeClass(n),$(this).addClass(a),$(".prev-slide").addClass(a)}),$(".prev-slide.--material-slider").on("click",function(){t.goToPrevSlide();var e;$(".slide__list li").each(function(t,i){$(i).children("img").hasClass("active")&&(e=$(i).data("slide"),$(i).children("img").removeClass("active"))});var i=e-1;0===e&&(i=5),$('.slide__list li[data-slide="'+i+'"] img').addClass("active");var o=$(".materials-slider li.material-slide")[e],n=$(o).data("material"),s=$(".materials-slider li.material-slide")[i],a=$(s).data("material");$(this).removeClass(n),$(".next-slide").removeClass(n),$(this).addClass(a),$(".next-slide").addClass(a)}),$(".slide__list li").on("click",function(){var e=$(this).data("slide");t.goToSlide(e),$(this).siblings().each(function(t,e){var i;$(e).children("img").hasClass("active")&&(i=$(e).data("slide")),$('li[data-slide="'+i+'"] img').removeClass("active")}),$('li[data-slide="'+e+'"] img').addClass("active")}),setTimeout(function(){$(".material-slide").each(function(t,e){$(e).css({top:0,bottom:0})})},500)});var $=jQuery;$(document).ready(function(){if($("body").hasClass("page-template-retailer")){var t=$(".retailer").height();$(".retailer .border-div").each(function(e,i){$(i).height(t+"px")})}}),$(document).ready(function(){console.log("dave")});var $=jQuery;$(document).ready(function(){function t(){$(".retailer-search input").hide(),$(".retailer-search select").show(),$(this).text("UK Retailers"),$(this).removeClass("overseas-partners"),$(this).addClass("uk-retailers");var i=document.querySelector(".uk-retailers");i&&(i.removeEventListener("click",t),i.addEventListener("click",e))}function e(){$(".retailer-search select").hide(),$(".retailer-search input").show(),$(this).text("Overseas Partners"),$(this).removeClass("uk-retailers"),$(this).addClass("overseas-partners");var i=document.querySelector(".overseas-partners");i&&(i.removeEventListener("click",e),i.addEventListener("click",t))}$(".retailer-search button").on("click",function(){if(1===$(".overseas-partners").length){var t=$(".retailer-search input").val();if(""===t)return void alert("Please enter a post code");var e=window.location.origin+window.location.pathname+"?postcode="+encodeURIComponent(t);window.location.href=e}else if(1===$(".uk-retailers").length){var i=$(".retailer-search select").val(),e=window.location.origin+window.location.pathname+"?country="+encodeURIComponent(i);window.location.href=e}});var i=document.querySelector(".overseas-partners");i&&i.addEventListener("click",t)}),$=jQuery;var superslidesInterval=setInterval(function(){$("#super-slider").length>0&&createSuperslider()},1);if($(function(){var t=$(".wp-video-shortcode")[0];t&&(t.addEventListener("playing",function(){$("#super-slider").superslides("stop")}),t.addEventListener("pause",function(){$("#super-slider").superslides("playing")}))}),$(document).ready(function(){$(".slide__numbers li").on("click",function(){var t=$(this).text(),e=parseInt(t.replace("0","").replace(".",""))-1;$("#super-slider").superslides("animate",e)}),$(".slide__arrow--down").on("click",function(){var t=$(window).height(),e=t-50;$("body").animate({scrollTop:e},1100)})}),$(document).ready(function(){$(".top-bar").headroom({offset:50,tolerance:5}),$(".woocommerce-message").length>0&&setTimeout(function(){$(".woocommerce-message").fadeOut(800)},4e3),$("#place_order").length>0&&$("#place_order").on("click",function(t){var e=!1;if(""===$("#shipping_first_name").val()&&($("#shipping_first_name").css("cssText","border: 1px solid #a00 !important"),$(".shipping-address-errors").append("<p>Please enter a first name.</p>"),e=!0),""===$("#shipping_last_name").val()&&($("#shipping_last_name").css("cssText","border: 1px solid #a00 !important"),$(".shipping-address-errors").append("<p>Please enter a last name.</p>"),e=!0),""===$("#shipping_address_1").val()&&($("#shipping_address_1").css("cssText","border: 1px solid #a00 !important"),$(".shipping-address-errors").append("<p>Please enter a street address.</p>"),e=!0),""===$("#shipping_city").val()&&($("#shipping_city").css("cssText","border: 1px solid #a00 !important"),$(".shipping-address-errors").append("<p>Please enter a town or city.</p>"),e=!0),""===$("#shipping_postcode").val()&&($("#shipping_postcode").css("cssText","border: 1px solid #a00 !important"),$(".shipping-address-errors").append("<p>Please enter a post code.</p>"),e=!0),""===$("#billing_email").val()&&($("#billing_email").css("cssText","border: 1px solid #a00 !important"),$(".shipping-address-errors").append("<p>Please enter an email address.</p>"),e=!0),""===$("#account_password").val()&&($("#account_password").css("cssText","border: 1px solid #a00 !important"),$(".shipping-address-errors").append("<p>Please enter an email address.</p>"),e=!0),e)return console.log(6),t.preventDefault(),t.stopPropagation(),!1}),$(".woocommerce").length>0&&$(".woocommerce .form-row").each(function(t,e){var i=$(e).children("label"),o=i.text(),n=$(e).children("input"),s=n.attr("placeholder");if(void 0!==s){""!==s&&(o=s);var a=o.replace("*","").replace("(optional)","");n.attr("placeholder",a)}}),$("input#username").attr("placeholder","Email"),$("input#password").attr("placeholder","Password"),$("input#reg_email").attr("placeholder","Email"),$("input#reg_password").attr("placeholder","Password"),$('.page-template-hospitality-register input[name="reg_submit"]').on("click",function(){var t=$('input[name="reg_email"]').val();$('input[name="reg_username"]').val(t)}),$(document).on("click","#close-basket-popup",function(t){return t.preventDefault(),t.stopPropagation(),$(".basketPopup").hide(),!1}),$(".checkout-button.wc-forward").text("Checkout"),!Modernizr.objectfit&&$(".object-fit-container").length>0&&$(".object-fit-container").each(function(){var t=$(this),e=t.find("img").prop("src");e&&(t.css("background-image","url("+e+")"),t.addClass("fallback-object-fit"))})}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one(t.support.transition.end,function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e()})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){s.trigger("closed.bs.alert").remove()}var o=t(this),n=o.attr("data-target");n||(n=o.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,""));var s=t(n);e&&e.preventDefault(),s.length||(s=o.hasClass("alert")?o:o.parent()),s.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var o=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var o=t(this),n=o.data("bs.alert");n||o.data("bs.alert",n=new i(this)),"string"==typeof e&&n[e].call(o)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),function(t){"use strict";var e=function(i,o){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,o),this.isLoading=!1};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",s.resetText||o.data("resetText",o[n]()),o[n](s[e]||this.options[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof i&&i;n||o.data("bs.button",n=new e(this,s)),"toggle"==i?n.toggle():i&&n.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,o=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):o==e?this.pause().cycle():this.slide(e>o?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),n=i||o[e](),s=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!n.length){if(!this.options.wrap)return;n=this.$element.find(".item")[r]()}if(n.hasClass("active"))return this.sliding=!1;var h=t.Event("slide.bs.carousel",{relatedTarget:n[0],direction:a});return this.$element.trigger(h),h.isDefaultPrevented()?void 0:(this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")?(n.addClass(e),n[0].offsetWidth,o.addClass(a),n.addClass(a),o.one(t.support.transition.end,function(){n.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(1e3*o.css("transition-duration").slice(0,-1))):(o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),s&&this.cycle(),this)};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i),a="string"==typeof i?i:s.slide;n||o.data("bs.carousel",n=new e(this,s)),"number"==typeof i?n.to(i):a?n[a]():s.interval&&n.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,o=t(this),n=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=t.extend({},n.data(),o.data()),a=o.attr("data-slide-to");a&&(s.interval=!1),n.carousel(s),(a=o.attr("data-slide-to"))&&n.data("bs.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),function(t){"use strict";var e=function(i,o){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,o),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var o=i.data("bs.collapse");if(o&&o.transitioning)return;i.collapse("hide"),o||i.data("bs.collapse",null)}var n=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[n](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[n]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var a=t.camelCase(["scroll",n].join("-"));this.$element.one(t.support.transition.end,t.proxy(s,this)).emulateTransitionEnd(350)[n](this.$element[0][a])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350):o.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var o=t(this),n=o.data("bs.collapse"),s=t.extend({},e.DEFAULTS,o.data(),"object"==typeof i&&i);!n&&s.toggle&&"show"==i&&(i=!i),n||o.data("bs.collapse",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,o=t(this),n=o.attr("data-target")||e.preventDefault()||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(n),a=s.data("bs.collapse"),r=a?"toggle":o.data(),l=o.attr("data-parent"),h=l&&t(l);a&&a.transitioning||(h&&h.find('[data-toggle=collapse][data-parent="'+l+'"]').not(o).addClass("collapsed"),o[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(r)})}(jQuery),function(t){"use strict";function e(e){t(o).remove(),t(n).each(function(){var o=i(t(this)),n={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",n)),e.isDefaultPrevented()||o.removeClass("open").trigger("hidden.bs.dropdown",n))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}var o=".dropdown-backdrop",n="[data-toggle=dropdown]",s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=i(n),a=s.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown",r),n.focus()}return!1}},s.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var o=t(this);if(e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled")){var s=i(o),a=s.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&s.find(n).focus(),o.click();var r=" li:not(.divider):visible a",l=s.find("[role=menu]"+r+", [role=listbox]"+r);if(l.length){var h=l.index(l.filter(":focus"));38==e.keyCode&&h>0&&h--,40==e.keyCode&&h<l.length-1&&h++,~h||(h=0),l.eq(h).focus()}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new s(this)),"string"==typeof e&&o[e].call(i)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",n,s.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu], [role=listbox]",s.prototype.keydown)}(jQuery),function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show().scrollTop(0),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(n)}).emulateTransitionEnd(300):i.$element.focus().trigger(n)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);s||n.data("bs.modal",s=new e(this,a)),"string"==typeof i?s[i](o):a.show&&s.show(o)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),o=i.attr("href"),n=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),s=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},n.data(),i.data());i.is("a")&&e.preventDefault(),n.modal(s,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,o){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o);for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this,o=this.tip();this.setContent(),this.options.animation&&o.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,a=s.test(n);a&&(n=n.replace(s,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var r=this.getPosition(),l=o[0].offsetWidth,h=o[0].offsetHeight;if(a){var d=this.$element.parent(),c=n,p=document.documentElement.scrollTop||document.body.scrollTop,u="body"==this.options.container?window.innerWidth:d.outerWidth(),f="body"==this.options.container?window.innerHeight:d.outerHeight(),g="body"==this.options.container?0:d.offset().left;n="bottom"==n&&r.top+r.height+h-p>f?"top":"top"==n&&r.top-p-h<0?"bottom":"right"==n&&r.right+l>u?"left":"left"==n&&r.left-l<g?"right":n,o.removeClass(c).addClass(n)}var m=this.getCalculatedOffset(n,r,l,h);this.applyPlacement(m,n),this.hoverState=null;var v=function(){i.$element.trigger("shown.bs."+i.type)};t.support.transition&&this.$tip.hasClass("fade")?o.one(t.support.transition.end,v).emulateTransitionEnd(150):v()}},e.prototype.applyPlacement=function(e,i){var o,n=this.tip(),s=n[0].offsetWidth,a=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),l=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(l)&&(l=0),e.top=e.top+r,e.left=e.left+l,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var h=n[0].offsetWidth,d=n[0].offsetHeight;if("top"==i&&d!=a&&(o=!0,e.top=e.top+a-d),/bottom|top/.test(i)){var c=0;e.left<0&&(c=-2*e.left,e.left=0,n.offset(e),h=n[0].offsetWidth,d=n[0].offsetHeight),this.replaceArrow(c-s+h,h,"left")}else this.replaceArrow(d-a,d,"top");o&&n.offset(e)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&o.detach(),i.$element.trigger("hidden.bs."+i.type)}var i=this,o=this.tip(),n=t.Event("hide.bs."+this.type);return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof i&&i;(n||"destroy"!=i)&&(n||o.data("bs.tooltip",n=new e(this,s)),"string"==typeof i&&n[i]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof i&&i;(n||"destroy"!=i)&&(n||o.data("bs.popover",n=new e(this,s)),"string"==typeof i&&n[i]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),function(t){"use strict";function e(i,o){var n,s=t.proxy(this.process,this);this.$element=t(t(i).is("body")?window:i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||(n=t(i).attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var o=t(this),n=o.data("target")||o.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,o=i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(e>=o)return a!=(t=s.last()[0])&&this.activate(t);if(a&&e<=n[0])return a!=(t=s[0])&&this.activate(t);for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(!n[t+1]||e<=n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){
var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a")[0],s=t.Event("show.bs.tab",{relatedTarget:n});if(e.trigger(s),!s.isDefaultPrevented()){var a=t(o);this.activate(e.parent("li"),i),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:n})})}}},e.prototype.activate=function(e,i,o){function n(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),o&&o()}var s=i.find("> .active"),a=o&&t.support.transition&&s.hasClass("fade");a?s.one(t.support.transition.end,n).emulateTransitionEnd(150):n(),s.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new e(this)),"string"==typeof i&&n[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),function(t){"use strict";var e=function(i,o){this.options=t.extend({},e.DEFAULTS,o),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$window.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),o=this.$window.scrollTop(),n=this.$element.offset(),s=this.options.offset,a=s.top,r=s.bottom;"top"==this.affixed&&(n.top+=o),"object"!=typeof s&&(r=a=s),"function"==typeof a&&(a=s.top(this.$element)),"function"==typeof r&&(r=s.bottom(this.$element));var l=!(null!=this.unpin&&o+this.unpin<=n.top)&&(null!=r&&n.top+this.$element.height()>=i-r?"bottom":null!=a&&a>=o&&"top");if(this.affixed!==l){this.unpin&&this.$element.css("top","");var h="affix"+(l?"-"+l:""),d=t.Event(h+".bs.affix");this.$element.trigger(d),d.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(h).trigger(t.Event(h.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:i-r-this.$element.height()}))}}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof i&&i;n||o.data("bs.affix",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),console.log("info bubble ini"),window.InfoBubble=InfoBubble,InfoBubble.prototype.ARROW_SIZE_=15,InfoBubble.prototype.ARROW_STYLE_=0,InfoBubble.prototype.SHADOW_STYLE_=1,InfoBubble.prototype.MIN_WIDTH_=50,InfoBubble.prototype.ARROW_POSITION_=50,InfoBubble.prototype.PADDING_=10,InfoBubble.prototype.BORDER_WIDTH_=1,InfoBubble.prototype.BORDER_COLOR_="#ccc",InfoBubble.prototype.BORDER_RADIUS_=10,InfoBubble.prototype.BACKGROUND_COLOR_="#fff",InfoBubble.prototype.CLOSE_SRC_="https://maps.gstatic.com/intl/en_us/mapfiles/iw_close.gif",InfoBubble.prototype.extend=function(t,e){return function(t){for(var e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},InfoBubble.prototype.buildDom_=function(){var t=this.bubble_=document.createElement("DIV");t.style.position="absolute",t.style.zIndex=this.baseZIndex_,(this.tabsContainer_=document.createElement("DIV")).style.position="relative";var e=this.close_=document.createElement("IMG");e.style.position="absolute",e.style.border=0,e.style.zIndex=this.baseZIndex_+1,e.style.cursor="pointer",e.className="js-info-bubble-close",e.src=this.get("closeSrc");var i=this;google.maps.event.addDomListener(e,"click",function(){i.close(),google.maps.event.trigger(i,"closeclick")});var o=this.contentContainer_=document.createElement("DIV");o.style.overflowX="auto",o.style.overflowY="auto",o.style.cursor="default",o.style.clear="both",o.style.position="relative";var n=this.content_=document.createElement("DIV");o.appendChild(n);var s=this.arrow_=document.createElement("DIV");s.style.position="relative";var a=this.arrowOuter_=document.createElement("DIV"),r=this.arrowInner_=document.createElement("DIV"),l=this.getArrowSize_();a.style.position=r.style.position="absolute",a.style.left=r.style.left="50%",a.style.height=r.style.height="0",a.style.width=r.style.width="0",a.style.marginLeft=this.px(-l),a.style.borderWidth=this.px(l),a.style.borderBottomWidth=0;var h=this.bubbleShadow_=document.createElement("DIV");h.style.position="absolute",t.style.display=h.style.display="none",t.appendChild(this.tabsContainer_),t.appendChild(e),t.appendChild(o),s.appendChild(a),s.appendChild(r),t.appendChild(s);var d=document.createElement("style");d.setAttribute("type","text/css"),this.animationName_="_ibani_"+Math.round(1e4*Math.random());var c="."+this.animationName_+"{-webkit-animation-name:"+this.animationName_+";-webkit-animation-duration:0.5s;-webkit-animation-iteration-count:1;}@-webkit-keyframes "+this.animationName_+" {from {-webkit-transform: scale(0)}50% {-webkit-transform: scale(1.2)}90% {-webkit-transform: scale(0.95)}to {-webkit-transform: scale(1)}}";d.textContent=c,document.getElementsByTagName("head")[0].appendChild(d)},InfoBubble.prototype.setBackgroundClassName=function(t){this.set("backgroundClassName",t)},InfoBubble.prototype.setBackgroundClassName=InfoBubble.prototype.setBackgroundClassName,InfoBubble.prototype.backgroundClassName_changed=function(){this.content_.className=this.get("backgroundClassName")},InfoBubble.prototype.backgroundClassName_changed=InfoBubble.prototype.backgroundClassName_changed,InfoBubble.prototype.setTabClassName=function(t){this.set("tabClassName",t)},InfoBubble.prototype.setTabClassName=InfoBubble.prototype.setTabClassName,InfoBubble.prototype.tabClassName_changed=function(){this.updateTabStyles_()},InfoBubble.prototype.tabClassName_changed=InfoBubble.prototype.tabClassName_changed,InfoBubble.prototype.getArrowStyle_=function(){return parseInt(this.get("arrowStyle"),10)||0},InfoBubble.prototype.setArrowStyle=function(t){this.set("arrowStyle",t)},InfoBubble.prototype.setArrowStyle=InfoBubble.prototype.setArrowStyle,InfoBubble.prototype.arrowStyle_changed=function(){this.arrowSize_changed()},InfoBubble.prototype.arrowStyle_changed=InfoBubble.prototype.arrowStyle_changed,InfoBubble.prototype.getArrowSize_=function(){return parseInt(this.get("arrowSize"),10)||0},InfoBubble.prototype.setArrowSize=function(t){this.set("arrowSize",t)},InfoBubble.prototype.setArrowSize=InfoBubble.prototype.setArrowSize,InfoBubble.prototype.arrowSize_changed=function(){this.borderWidth_changed()},InfoBubble.prototype.arrowSize_changed=InfoBubble.prototype.arrowSize_changed,InfoBubble.prototype.setArrowPosition=function(t){this.set("arrowPosition",t)},InfoBubble.prototype.setArrowPosition=InfoBubble.prototype.setArrowPosition,InfoBubble.prototype.getArrowPosition_=function(){return parseInt(this.get("arrowPosition"),10)||0},InfoBubble.prototype.arrowPosition_changed=function(){var t=this.getArrowPosition_();this.arrowOuter_.style.left=this.arrowInner_.style.left=t+"%",this.redraw_()},InfoBubble.prototype.arrowPosition_changed=InfoBubble.prototype.arrowPosition_changed,InfoBubble.prototype.setZIndex=function(t){this.set("zIndex",t)},InfoBubble.prototype.setZIndex=InfoBubble.prototype.setZIndex,InfoBubble.prototype.getZIndex=function(){return parseInt(this.get("zIndex"),10)||this.baseZIndex_},InfoBubble.prototype.zIndex_changed=function(){var t=this.getZIndex();this.bubble_.style.zIndex=this.baseZIndex_=t,this.close_.style.zIndex=t+1},InfoBubble.prototype.zIndex_changed=InfoBubble.prototype.zIndex_changed,InfoBubble.prototype.setShadowStyle=function(t){this.set("shadowStyle",t)},InfoBubble.prototype.setShadowStyle=InfoBubble.prototype.setShadowStyle,InfoBubble.prototype.getShadowStyle_=function(){return parseInt(this.get("shadowStyle"),10)||0},InfoBubble.prototype.shadowStyle_changed=function(){var t=this.getShadowStyle_(),e="",i="",o="";switch(t){case 0:e="none";break;case 1:i="40px 15px 10px rgba(33,33,33,0.3)",o="transparent";break;case 2:i="0 0 2px rgba(33,33,33,0.3)",o="rgba(33,33,33,0.35)"}this.bubbleShadow_.style.boxShadow=this.bubbleShadow_.style.webkitBoxShadow=this.bubbleShadow_.style.MozBoxShadow=i,this.bubbleShadow_.style.backgroundColor=o,this.isOpen_&&(this.bubbleShadow_.style.display=e,this.draw())},InfoBubble.prototype.shadowStyle_changed=InfoBubble.prototype.shadowStyle_changed,InfoBubble.prototype.showCloseButton=function(){this.set("hideCloseButton",!1)},InfoBubble.prototype.showCloseButton=InfoBubble.prototype.showCloseButton,InfoBubble.prototype.hideCloseButton=function(){this.set("hideCloseButton",!0)},InfoBubble.prototype.hideCloseButton=InfoBubble.prototype.hideCloseButton,InfoBubble.prototype.hideCloseButton_changed=function(){this.close_.style.display=this.get("hideCloseButton")?"none":""},InfoBubble.prototype.hideCloseButton_changed=InfoBubble.prototype.hideCloseButton_changed,InfoBubble.prototype.setBackgroundColor=function(t){t&&this.set("backgroundColor",t)},InfoBubble.prototype.setBackgroundColor=InfoBubble.prototype.setBackgroundColor,InfoBubble.prototype.backgroundColor_changed=function(){var t=this.get("backgroundColor");this.contentContainer_.style.backgroundColor=t,this.arrowInner_.style.borderColor=t+" transparent transparent",this.updateTabStyles_()},InfoBubble.prototype.backgroundColor_changed=InfoBubble.prototype.backgroundColor_changed,InfoBubble.prototype.setBorderColor=function(t){t&&this.set("borderColor",t)},InfoBubble.prototype.setBorderColor=InfoBubble.prototype.setBorderColor,InfoBubble.prototype.borderColor_changed=function(){var t=this.get("borderColor"),e=this.contentContainer_,i=this.arrowOuter_;e.style.borderColor=t,i.style.borderColor=t+" transparent transparent",e.style.borderStyle=i.style.borderStyle=this.arrowInner_.style.borderStyle="solid",this.updateTabStyles_()},InfoBubble.prototype.borderColor_changed=InfoBubble.prototype.borderColor_changed,InfoBubble.prototype.setBorderRadius=function(t){this.set("borderRadius",t)},InfoBubble.prototype.setBorderRadius=InfoBubble.prototype.setBorderRadius,InfoBubble.prototype.getBorderRadius_=function(){return parseInt(this.get("borderRadius"),10)||0},InfoBubble.prototype.borderRadius_changed=function(){var t=this.getBorderRadius_(),e=this.getBorderWidth_();this.contentContainer_.style.borderRadius=this.contentContainer_.style.MozBorderRadius=this.contentContainer_.style.webkitBorderRadius=this.bubbleShadow_.style.borderRadius=this.bubbleShadow_.style.MozBorderRadius=this.bubbleShadow_.style.webkitBorderRadius=this.px(t),this.tabsContainer_.style.paddingLeft=this.tabsContainer_.style.paddingRight=this.px(t+e),this.redraw_()},InfoBubble.prototype.borderRadius_changed=InfoBubble.prototype.borderRadius_changed,InfoBubble.prototype.getBorderWidth_=function(){return parseInt(this.get("borderWidth"),10)||0},InfoBubble.prototype.setBorderWidth=function(t){this.set("borderWidth",t)},InfoBubble.prototype.setBorderWidth=InfoBubble.prototype.setBorderWidth,InfoBubble.prototype.borderWidth_changed=function(){var t=this.getBorderWidth_();this.contentContainer_.style.borderWidth=this.px(t),this.tabsContainer_.style.top=this.px(t),this.updateArrowStyle_(),this.updateTabStyles_(),this.borderRadius_changed(),this.redraw_()},InfoBubble.prototype.borderWidth_changed=InfoBubble.prototype.borderWidth_changed,InfoBubble.prototype.updateArrowStyle_=function(){var t=this.getBorderWidth_(),e=this.getArrowSize_(),i=this.getArrowStyle_(),o=this.px(e),n=this.px(Math.max(0,e-t)),s=this.arrowOuter_,a=this.arrowInner_;this.arrow_.style.marginTop=this.px(-t),s.style.borderTopWidth=o,a.style.borderTopWidth=n,0==i||1==i?(s.style.borderLeftWidth=o,a.style.borderLeftWidth=n):s.style.borderLeftWidth=a.style.borderLeftWidth=0,0==i||2==i?(s.style.borderRightWidth=o,a.style.borderRightWidth=n):s.style.borderRightWidth=a.style.borderRightWidth=0,i<2?(s.style.marginLeft=this.px(-e),a.style.marginLeft=this.px(-(e-t))):s.style.marginLeft=a.style.marginLeft=0,s.style.display=0==t?"none":""},InfoBubble.prototype.setPadding=function(t){this.set("padding",t)},InfoBubble.prototype.setPadding=InfoBubble.prototype.setPadding,InfoBubble.prototype.setCloseSrc=function(t){t&&this.close_&&(this.close_.src=t)},InfoBubble.prototype.setCloseSrc=InfoBubble.prototype.setCloseSrc,InfoBubble.prototype.getPadding_=function(){return parseInt(this.get("padding"),10)||0},InfoBubble.prototype.padding_changed=function(){var t=this.getPadding_();this.contentContainer_.style.padding=this.px(t),this.updateTabStyles_(),this.redraw_()},InfoBubble.prototype.padding_changed=InfoBubble.prototype.padding_changed,InfoBubble.prototype.px=function(t){return t?t+"px":t},InfoBubble.prototype.addEvents_=function(){var t=["mousedown","mousemove","mouseover","mouseout","mouseup","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","dblclick","contextmenu","click"],e=this.bubble_;this.listeners_=[];for(var i,o=0;i=t[o];o++)this.listeners_.push(google.maps.event.addDomListener(e,i,function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}))},InfoBubble.prototype.onAdd=function(){this.bubble_||this.buildDom_(),this.addEvents_();var t=this.getPanes();t&&(t.floatPane.appendChild(this.bubble_),t.floatShadow.appendChild(this.bubbleShadow_)),google.maps.event.trigger(this,"domready")},InfoBubble.prototype.onAdd=InfoBubble.prototype.onAdd,InfoBubble.prototype.draw=function(){var t=this.getProjection();if(t){var e=this.get("position");if(!e)return void this.close();var i=0;this.activeTab_&&(i=this.activeTab_.offsetHeight);var o=this.getAnchorHeight_(),n=this.getArrowSize_(),s=this.getArrowPosition_();s/=100;var a=t.fromLatLngToDivPixel(e),r=this.contentContainer_.offsetWidth,l=this.bubble_.offsetHeight;if(r){var h=a.y-(l+n);o&&(h-=o);var d=a.x-r*s;this.bubble_.style.top=this.px(h),this.bubble_.style.left=this.px(d);switch(parseInt(this.get("shadowStyle"),10)){case 1:this.bubbleShadow_.style.top=this.px(h+i-1),this.bubbleShadow_.style.left=this.px(d),this.bubbleShadow_.style.width=this.px(r),this.bubbleShadow_.style.height=this.px(this.contentContainer_.offsetHeight-n);break;case 2:r*=.8,this.bubbleShadow_.style.top=o?this.px(a.y):this.px(a.y+n),this.bubbleShadow_.style.left=this.px(a.x-r*s),this.bubbleShadow_.style.width=this.px(r),this.bubbleShadow_.style.height=this.px(2)}}}},InfoBubble.prototype.draw=InfoBubble.prototype.draw,InfoBubble.prototype.onRemove=function(){this.bubble_&&this.bubble_.parentNode&&this.bubble_.parentNode.removeChild(this.bubble_),this.bubbleShadow_&&this.bubbleShadow_.parentNode&&this.bubbleShadow_.parentNode.removeChild(this.bubbleShadow_);for(var t,e=0;t=this.listeners_[e];e++)google.maps.event.removeListener(t)},InfoBubble.prototype.onRemove=InfoBubble.prototype.onRemove,InfoBubble.prototype.isOpen=function(){return this.isOpen_},InfoBubble.prototype.isOpen=InfoBubble.prototype.isOpen,InfoBubble.prototype.close=function(){this.bubble_&&(this.bubble_.style.display="none",this.bubble_.className=this.bubble_.className.replace(this.animationName_,"")),this.bubbleShadow_&&(this.bubbleShadow_.style.display="none",this.bubbleShadow_.className=this.bubbleShadow_.className.replace(this.animationName_,"")),this.isOpen_=!1},InfoBubble.prototype.close=InfoBubble.prototype.close,InfoBubble.prototype.open=function(t,e){var i=this;window.setTimeout(function(){i.open_(t,e)},0)},InfoBubble.prototype.open_=function(t,e){if(this.updateContent_(),t&&this.setMap(t),e&&(this.set("anchor",e),this.bindTo("anchorPoint",e),this.bindTo("position",e)),this.bubble_.style.display=this.bubbleShadow_.style.display="",!this.get("disableAnimation")&&(this.bubble_.className+=" "+this.animationName_,this.bubbleShadow_.className+=" "+this.animationName_),this.redraw_(),this.isOpen_=!0,!this.get("disableAutoPan")){var i=this;window.setTimeout(function(){i.panToView()},200)}},InfoBubble.prototype.open=InfoBubble.prototype.open,InfoBubble.prototype.setPosition=function(t){t&&this.set("position",t)},InfoBubble.prototype.setPosition=InfoBubble.prototype.setPosition,InfoBubble.prototype.getPosition=function(){return this.get("position")},InfoBubble.prototype.getPosition=InfoBubble.prototype.getPosition,InfoBubble.prototype.position_changed=function(){this.draw()},InfoBubble.prototype.position_changed=InfoBubble.prototype.position_changed,InfoBubble.prototype.panToView=function(){var t=this.getProjection();if(t&&this.bubble_){var e=this.getAnchorHeight_(),i=this.bubble_.offsetHeight+e,o=this.get("map"),n=o.getDiv(),s=n.offsetHeight,a=this.getPosition(),r=t.fromLatLngToContainerPixel(o.getCenter()),l=t.fromLatLngToContainerPixel(a),h=r.y-i,d=s-r.y,c=h<0,p=0;c&&(h*=-1,p=(h+d)/2),l.y-=p,a=t.fromContainerPixelToLatLng(l),o.getCenter()!=a&&o.panTo(a)}},InfoBubble.prototype.panToView=InfoBubble.prototype.panToView,InfoBubble.prototype.htmlToDocumentFragment_=function(t){t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1");var e=document.createElement("DIV");if(e.innerHTML=t,1==e.childNodes.length)return e.removeChild(e.firstChild);for(var i=document.createDocumentFragment();e.firstChild;)i.appendChild(e.firstChild);return i},InfoBubble.prototype.removeChildren_=function(t){if(t)for(var e;e=t.firstChild;)t.removeChild(e)},InfoBubble.prototype.setContent=function(t){this.set("content",t)},InfoBubble.prototype.setContent=InfoBubble.prototype.setContent,InfoBubble.prototype.getContent=function(){return this.get("content")},InfoBubble.prototype.getContent=InfoBubble.prototype.getContent,InfoBubble.prototype.updateContent_=function(){if(this.content_){this.removeChildren_(this.content_);var t=this.getContent();if(t){"string"==typeof t&&(t=this.htmlToDocumentFragment_(t)),this.content_.appendChild(t);for(var e,i=this,o=this.content_.getElementsByTagName("IMG"),n=0;e=o[n];n++)google.maps.event.addDomListener(e,"load",function(){i.imageLoaded_()})}this.redraw_()}},InfoBubble.prototype.imageLoaded_=function(){var t=!this.get("disableAutoPan");this.redraw_(),!t||0!=this.tabs_.length&&0!=this.activeTab_.index||this.panToView()},InfoBubble.prototype.updateTabStyles_=function(){if(this.tabs_&&this.tabs_.length){for(var t,e=0;t=this.tabs_[e];e++)this.setTabStyle_(t.tab);this.activeTab_.style.zIndex=this.baseZIndex_;var i=this.getBorderWidth_(),o=this.getPadding_()/2;this.activeTab_.style.borderBottomWidth=0,this.activeTab_.style.paddingBottom=this.px(o+i)}},InfoBubble.prototype.setTabStyle_=function(t){var e=this.get("backgroundColor"),i=this.get("borderColor"),o=this.getBorderRadius_(),n=this.getBorderWidth_(),s=this.getPadding_(),a=this.px(-Math.max(s,o)),r=this.px(o),l=this.baseZIndex_;t.index&&(l-=t.index);var h={cssFloat:"left",position:"relative",cursor:"pointer",backgroundColor:e,border:this.px(n)+" solid "+i,padding:this.px(s/2)+" "+this.px(s),marginRight:a,whiteSpace:"nowrap",borderRadiusTopLeft:r,MozBorderRadiusTopleft:r,webkitBorderTopLeftRadius:r,borderRadiusTopRight:r,MozBorderRadiusTopright:r,webkitBorderTopRightRadius:r,zIndex:l,display:"inline"};for(var d in h)t.style[d]=h[d];var c=this.get("tabClassName");void 0!=c&&(t.className+=" "+c)},InfoBubble.prototype.addTabActions_=function(t){var e=this;t.listener_=google.maps.event.addDomListener(t,"click",function(){e.setTabActive_(this)})},InfoBubble.prototype.setTabActive=function(t){var e=this.tabs_[t-1];e&&this.setTabActive_(e.tab)},InfoBubble.prototype.setTabActive=InfoBubble.prototype.setTabActive,InfoBubble.prototype.setTabActive_=function(t){if(!t)return this.setContent(""),void this.updateContent_();var e=this.getPadding_()/2,i=this.getBorderWidth_();if(this.activeTab_){var o=this.activeTab_;o.style.zIndex=this.baseZIndex_-o.index,o.style.paddingBottom=this.px(e),o.style.borderBottomWidth=this.px(i)}t.style.zIndex=this.baseZIndex_,t.style.borderBottomWidth=0,t.style.marginBottomWidth="-10px",t.style.paddingBottom=this.px(e+i),this.setContent(this.tabs_[t.index].content),this.updateContent_(),this.activeTab_=t,this.redraw_()},InfoBubble.prototype.setMaxWidth=function(t){this.set("maxWidth",t)},InfoBubble.prototype.setMaxWidth=InfoBubble.prototype.setMaxWidth,InfoBubble.prototype.maxWidth_changed=function(){this.redraw_()},InfoBubble.prototype.maxWidth_changed=InfoBubble.prototype.maxWidth_changed,InfoBubble.prototype.setMaxHeight=function(t){this.set("maxHeight",t)},InfoBubble.prototype.setMaxHeight=InfoBubble.prototype.setMaxHeight,InfoBubble.prototype.maxHeight_changed=function(){this.redraw_()},InfoBubble.prototype.maxHeight_changed=InfoBubble.prototype.maxHeight_changed,InfoBubble.prototype.setMinWidth=function(t){this.set("minWidth",t)},InfoBubble.prototype.setMinWidth=InfoBubble.prototype.setMinWidth,InfoBubble.prototype.minWidth_changed=function(){this.redraw_()},InfoBubble.prototype.minWidth_changed=InfoBubble.prototype.minWidth_changed,InfoBubble.prototype.setMinHeight=function(t){this.set("minHeight",t)},InfoBubble.prototype.setMinHeight=InfoBubble.prototype.setMinHeight,InfoBubble.prototype.minHeight_changed=function(){this.redraw_()},InfoBubble.prototype.minHeight_changed=InfoBubble.prototype.minHeight_changed,InfoBubble.prototype.addTab=function(t,e){var i=document.createElement("DIV");i.innerHTML=t,this.setTabStyle_(i),this.addTabActions_(i),this.tabsContainer_.appendChild(i),this.tabs_.push({label:t,content:e,tab:i}),i.index=this.tabs_.length-1,i.style.zIndex=this.baseZIndex_-i.index,this.activeTab_||this.setTabActive_(i),i.className=i.className+" "+this.animationName_,this.redraw_()},InfoBubble.prototype.addTab=InfoBubble.prototype.addTab,InfoBubble.prototype.updateTab=function(t,e,i){if(!(!this.tabs_.length||t<0||t>=this.tabs_.length)){var o=this.tabs_[t];void 0!=e&&(o.tab.innerHTML=o.label=e),void 0!=i&&(o.content=i),this.activeTab_==o.tab&&(this.setContent(o.content),this.updateContent_()),this.redraw_()}},InfoBubble.prototype.updateTab=InfoBubble.prototype.updateTab,InfoBubble.prototype.removeTab=function(t){if(!(!this.tabs_.length||t<0||t>=this.tabs_.length)){var e=this.tabs_[t];e.tab.parentNode.removeChild(e.tab),google.maps.event.removeListener(e.tab.listener_),this.tabs_.splice(t,1),delete e;for(var i,o=0;i=this.tabs_[o];o++)i.tab.index=o;e.tab==this.activeTab_&&(this.tabs_[t]?this.activeTab_=this.tabs_[t].tab:this.tabs_[t-1]?this.activeTab_=this.tabs_[t-1].tab:this.activeTab_=void 0,this.setTabActive_(this.activeTab_)),this.redraw_()}},InfoBubble.prototype.removeTab=InfoBubble.prototype.removeTab,InfoBubble.prototype.getElementSize_=function(t,e,i){var o=document.createElement("DIV");o.style.display="inline",o.style.position="absolute",o.style.visibility="hidden","string"==typeof t?o.innerHTML=t:o.appendChild(t.cloneNode(!0)),document.body.appendChild(o);var n=new google.maps.Size(o.offsetWidth,o.offsetHeight);return e&&n.width>e&&(o.style.width=this.px(e),n=new google.maps.Size(o.offsetWidth,o.offsetHeight)),i&&n.height>i&&(o.style.height=this.px(i),n=new google.maps.Size(o.offsetWidth,o.offsetHeight)),document.body.removeChild(o),delete o,n},InfoBubble.prototype.redraw_=function(){this.figureOutSize_(),this.positionCloseButton_(),this.draw()},InfoBubble.prototype.figureOutSize_=function(){var t=this.get("map");if(t){var e=this.getPadding_(),i=(this.getBorderWidth_(),this.getBorderRadius_(),this.getArrowSize_()),o=t.getDiv(),n=2*i,s=o.offsetWidth-n,a=o.offsetHeight-n-this.getAnchorHeight_(),r=0,l=this.get("minWidth")||0,h=this.get("minHeight")||0,d=this.get("maxWidth")||0,c=this.get("maxHeight")||0;d=Math.min(s,d),c=Math.min(a,c);var p=0;if(this.tabs_.length)for(var u,f=0;u=this.tabs_[f];f++){var g=this.getElementSize_(u.tab,d,c),m=this.getElementSize_(u.content,d,c);l<g.width&&(l=g.width),p+=g.width,h<g.height&&(h=g.height),g.height>r&&(r=g.height),l<m.width&&(l=m.width),h<m.height&&(h=m.height)}else{var v=this.get("content");if("string"==typeof v&&(v=this.htmlToDocumentFragment_(v)),v){var m=this.getElementSize_(v,d,c);l<m.width&&(l=m.width),h<m.height&&(h=m.height)}}d&&(l=Math.min(l,d)),c&&(h=Math.min(h,c)),l=Math.max(l,p),l==p&&(l+=2*e),i*=2,l=Math.max(l,i),l>s&&(l=s),h>a&&(h=a-r),this.tabsContainer_&&(this.tabHeight_=r,this.tabsContainer_.style.width=this.px(p)),this.contentContainer_.style.width=this.px(l),this.contentContainer_.style.height=this.px(h)}},InfoBubble.prototype.getAnchorHeight_=function(){if(this.get("anchor")){var t=this.get("anchorPoint");if(t)return-1*t.y}return 0},InfoBubble.prototype.anchorPoint_changed=function(){this.draw()},InfoBubble.prototype.anchorPoint_changed=InfoBubble.prototype.anchorPoint_changed,InfoBubble.prototype.positionCloseButton_=function(){var t=(this.getBorderRadius_(),this.getBorderWidth_()),e=2,i=2;this.tabs_.length&&this.tabHeight_&&(i+=this.tabHeight_),i+=t,e+=t;var o=this.contentContainer_;o&&o.clientHeight<o.scrollHeight&&(e+=15),this.close_.style.right=this.px(e),this.close_.style.top=this.px(i)};