function createMap(e,t,a){var i=$(a).data("coordinates"),r=!(!i||""===i)&&i.split("|"),o=$(a).data("overseas"),s=new google.maps.Map(a,{center:e,zoom:t,disableDefaultUI:!0,zoomControl:!0}),n=[{stylers:[{hue:"#64B253"},{saturation:-80}]}];s.setOptions({styles:n});var l={scaledSize:new google.maps.Size(22,30),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(11,30),url:"http://localhost:8888/crucial-trading/wp-content/uploads/Combined-Shape-Copy.svg"};if(r){for(var d=0;d<r.length;d++)if(""!==r[d]){var c=r[d].indexOf(","),g=parseFloat(r[d].substring(0,c)),u=parseFloat(r[d].substring(c+1,r[d].length));new google.maps.Marker({position:{lat:g,lng:u},map:s,icon:l})}}else if(o&&""!==o){new google.maps.Marker({position:e,map:s,icon:l})}}function distanceBetweenPoints(e,t,a,i){var r=6371,o=deg2rad(a-e),s=deg2rad(i-t),n=Math.sin(o/2)*Math.sin(o/2)+Math.cos(deg2rad(e))*Math.cos(deg2rad(a))*Math.sin(s/2)*Math.sin(s/2),l=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),d=r*l,c=.621371*d;return c}function deg2rad(e){return e*(Math.PI/180)}function showBasketPopup(e,t){$(".basketMessage").html(""),e?$(".basketMessage").html(t+' has been added to your <a href="'+siteURL+'/basket">basket</a>.'):$(".basketMessage").html("Sorry, an error has occured and "+t+" could not be added to your basket. Please try again."),$(".basketPopup").show()}jQuery(document).ready(function(){var e=jQuery;e(function(){e(".about__timeline__btn").click(function(){e(this).toggleClass("is-active"),e("body").toggleClass("show-about-timeline"),e(".is-active").click(function(){e("body").toggleClass("hide-about-timeline")});skrollr.init({render:function(e){console.log(e.curTop)}})})}),e(function(){e(".about__scroller__btn").click(function(){e(this).toggleClass("is-active"),e("body").toggleClass("show-about-scroller"),e(".is-active").click(function(){e("body").toggleClass("hide-about-scroller")})})})});var $=jQuery;$(document).ready(function(){$(".order-brochure").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("body").css("cursor","wait"),$(this).css("cursor","wait");var t=$(this).data("product-name"),a=$(this).data("product-id"),i="",r=window.location.href;"#"===r[r.length-1]&&(r=window.location.href.substr(0,window.location.href.length-1));var i=r+"product/brochure/?post_type=product&add-to-cart="+a;return $.get(i).done(function(){$("body").css("cursor","auto"),$(this).css("cursor","pointer"),showBasketPopup(!0,t)}).fail(function(){showBasketPopup(!1,"")}),!1})});var $=jQuery;$(document).ready(function(){$(".contact-select select").change(function(){var e=$(".contact-select select").val();switch(e){case"general":$(".contact-form #press").hide(),$(".contact-form #trade").hide(),$('.page-image img[data-tag="press"]').addClass("__hidden"),$('.page-image img[data-tag="trade"]').addClass("__hidden");break;case"press":$(".contact-form #trade").hide(),$(".contact-form #general").hide(),$('.page-image img[data-tag="general"]').addClass("__hidden"),$('.page-image img[data-tag="trade"]').addClass("__hidden");break;case"trade":$(".contact-form #press").hide(),$(".contact-form #general").hide(),$('.page-image img[data-tag="press"]').addClass("__hidden"),$('.page-image img[data-tag="general"]').addClass("__hidden")}$(".contact-form #"+e).show(),$('.page-image img[data-tag="'+e+'"]').removeClass("__hidden")})});var $=jQuery;$(document).ready(function(){if($("body").hasClass("page-template-retailer")){var e=document.getElementById("google-map"),t=$(e).data("loc"),a=$(e).data("overseas");if(""!==t){var i=new google.maps.Geocoder;i.geocode({address:t,componentRestrictions:{country:"UK"}},function(t,a){var i="OK"===a?{lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()}:{lat:51.475,lng:-.1875},r="OK"===a?11:14;createMap(i,r,e)})}else if(""!==a){var i=new google.maps.Geocoder;i.geocode({address:a},function(t,a){var i="OK"===a?{lat:t[0].geometry.location.lat(),lng:t[0].geometry.location.lng()}:{lat:51.475,lng:-.1875},r="OK"===a?5:14;createMap(i,r,e)})}else{var r={lat:51.475,lng:-.1875};createMap(r,14,e)}}}),jQuery(document).ready(function(){var e=jQuery;e(function(){e(".main-menu__button").click(function(){e(this).toggleClass("is-active"),e("body").toggleClass("show-menu")})}),e("html").click(function(){e("body").removeClass("show-menu"),e(".main-menu__button").removeClass("is-active")}),e(".main-menu, .main-menu__button").click(function(e){e.stopPropagation()})});var $=jQuery;$(document).ready(function(){function e(){var e;e=window.innerWidth>992?400:window.innerWidth>768&&window.innerWidth<993?325:200,$(".material__details").animate({right:"-"+e+"px"}),$(".hide-material-info").text("Show"),$(".hide-material-info").data("state","closed")}function t(){var e;e=window.innerWidth>450?"20px":"0px",$(".material__details").animate({right:e}),$(".hide-material-info").text("Hide"),$(".hide-material-info").data("state","open")}$(".hide-material-info").on("click",function(a){a.preventDefault(),a.stopPropagation();var i=$(this).data("state");return"open"===i?e():"closed"===i&&t(),!1}),$("#change-image-view").on("click",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).data("view");return"top"===t?($(this).siblings("img").attr("src",$(this).data("angle")),$(this).parent().css("height","auto"),$(this).siblings("img").css({height:"auto",marginLeft:"25%",width:"50%"}),$(this).data("view","angle")):($(this).siblings("img").attr("src",$(this).data("top")),$(this).parent().css("height","450px"),$(this).siblings("img").css({height:"100%",marginLeft:"0",width:"100%"}),$(this).data("view","top")),!1}),$(document).on("click","#add-swatch-to-basket",function(e){e.preventDefault(),e.stopPropagation();var t=$(this).data("product-name"),a=$(this).data("product-id"),i=window.location.href+"?post_type=product&add-to-cart="+a;return $.get(i).done(function(){showBasketPopup(!0,t)}).fail(function(){showBasketPopup(!1)}),!1})}),$(document).ready(function(){for(var e,t=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="31px" height="59px" viewBox="0 0 31 59" version="1.1" class="prev-slide coir">','<g id="Home" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square" stroke="#7C7C7C">','<g id="vivid" transform="translate(-45.000000, -553.000000)" stroke="#7C7C7C">','<g id="slider-arrow" transform="translate(60.500000, 582.000000) rotate(-180.000000) translate(-60.500000, -582.000000) translate(46.000000, 553.000000)"  stroke="#7C7C7C">','<path d="M0.201388889,0.201388889 L28.8071201,28.8071201" id="Line"/>','<path d="M0,57.6057312 L28.6057312,29" id="Line"/>',"</g>","</g>","</g>","</svg>"],a=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="31px" height="58px" viewBox="0 0 31 58" version="1.1" class="next-slide coir">','<g id="Home" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="square" stroke="#7C7C7C">','<g id="vivid" transform="translate(-1556.000000, -553.000000)" stroke="#7C7C7C">','<g id="slider-arrow" transform="translate(1557.000000, 553.000000)"  stroke="#7C7C7C">','<path d="M0.201388889,0.201388889 L28.8071201,28.8071201" id="Line"/>','<path d="M0,57.6057312 L28.6057312,29" id="Line"/>',"</g>","</g>","</g>","</svg>"],i=document.querySelectorAll(".material-view-slider ul li span"),r=0;r<i.length;r++)if(i[r].hasAttribute("data-show")){e=i[r].dataset.show;break}$(".material-view-slider ul#material-view-slider-list").bxSlider({startSlide:e,nextSelector:"#material-view-slider-next",prevSelector:"#material-view-slider-prev",onSlideNext:function(){var e=$("#material-view-slider-prev-text h3").data("current"),t=$("#material-view-slider-prev-text h3").data("total"),a=e+1;a===t+1&&(a=1);var i=a+1,r=a-1;0===r&&(r=t),i===t+1&&(i=1),$("#material-view-slider-prev-text h3").text(r+"/"+t),$("#material-view-slider-next-text h3").text(i+"/"+t),$("#material-view-slider-prev-text h3").data("current",a)},onSlidePrev:function(){var e=$("#material-view-slider-prev-text h3").data("current"),t=$("#material-view-slider-prev-text h3").data("total"),a=e-1;0===a&&(a=t);var i=a+1,r=a-1;0===r&&(r=t),i===t+1&&(i=1),$("#material-view-slider-prev-text h3").text(r+"/"+t),$("#material-view-slider-next-text h3").text(i+"/"+t),$("#material-view-slider-prev-text h3").data("current",a)}}),$(".bx-prev").addClass("no-effect"),$(".bx-next").addClass("no-effect"),$(".bx-prev").html(t.join("")),$(".bx-next").html(a.join(""))});var $=jQuery;$(document).ready(function(){var e=$(".materials-slider").bxSlider({mode:"fade"});$(".next-slide.--material-slider").on("click",function(){e.goToNextSlide();var t;$(".slide__list li").each(function(e,a){$(a).children("img").hasClass("active")&&(t=$(a).data("slide"),$(a).children("img").removeClass("active"))});var a=t+1;5===t&&(a=0),$('.slide__list li[data-slide="'+a+'"] img').addClass("active");var i=$(".materials-slider li.material-slide")[t],r=$(i).data("material"),o=$(".materials-slider li.material-slide")[a],s=$(o).data("material");$(this).removeClass(r),$(".prev-slide").removeClass(r),$(this).addClass(s),$(".prev-slide").addClass(s)}),$(".prev-slide.--material-slider").on("click",function(){e.goToPrevSlide();var t;$(".slide__list li").each(function(e,a){$(a).children("img").hasClass("active")&&(t=$(a).data("slide"),$(a).children("img").removeClass("active"))});var a=t-1;0===t&&(a=5),$('.slide__list li[data-slide="'+a+'"] img').addClass("active");var i=$(".materials-slider li.material-slide")[t],r=$(i).data("material"),o=$(".materials-slider li.material-slide")[a],s=$(o).data("material");$(this).removeClass(r),$(".next-slide").removeClass(r),$(this).addClass(s),$(".next-slide").addClass(s)}),$(".slide__list li").on("click",function(){var t=$(this).data("slide");e.goToSlide(t),$(this).siblings().each(function(e,t){var a;$(t).children("img").hasClass("active")&&(a=$(t).data("slide")),$('li[data-slide="'+a+'"] img').removeClass("active")}),$('li[data-slide="'+t+'"] img').addClass("active")}),$(".material-slide .slide__content").css("cssText","height: calc(100% - 60px)"),setTimeout(function(){$(".material-slide").each(function(e,t){$(t).css({top:0,bottom:0})})},500)});var $=jQuery;$(document).ready(function(){function e(){$(".retailer-search input").hide(),$(".retailer-search select").show(),$(this).text("UK Retailers"),$(this).removeClass("overseas-partners"),$(this).addClass("uk-retailers");var a=document.querySelector(".uk-retailers");a&&(a.removeEventListener("click",e),a.addEventListener("click",t))}function t(){$(".retailer-search select").hide(),$(".retailer-search input").show(),$(this).text("Overseas Partners"),$(this).removeClass("uk-retailers"),$(this).addClass("overseas-partners");var a=document.querySelector(".overseas-partners");a&&(a.removeEventListener("click",t),a.addEventListener("click",e))}$(".retailer-search button").on("click",function(){if(1===$(".overseas-partners").length){var e=$(".retailer-search input").val();if(""===e)return void alert("Please enter a post code");var t=new google.maps.Geocoder;t.geocode({address:e,componentRestrictions:{country:"UK"}},function(t,a){if("OK"!==a)return void alert("No");var i=t[0].geometry.location.lat(),r=t[0].geometry.location.lng();$.ajax({type:"GET",url:window.location.origin+window.location.pathname+"?get_retailers=retailer"}).done(function(t){for(var a=JSON.parse(t),o=[],s=0;s<a.length;s++){var n=a[s],l=n.lat,d=n.lng,c=distanceBetweenPoints(i,r,l,d);if(c<10){var g=Math.round(10*c)/10;o.push([n.ID,g.toFixed(0)])}}for(var u=window.location.origin+window.location.pathname+"?results=",h="",m=0;m<o.length;m++)h+=o[m][0]+"-"+o[m][1]+",";var p=window.btoa(h),v=u+p;v+="&loc="+encodeURIComponent(e),window.location.href=v}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})})}else if(1===$(".uk-retailers").length){var a=$(".retailer-search select").val();$.ajax({type:"GET",url:window.location.origin+window.location.pathname+"?get_retailers=overseas"}).done(function(e){for(var t,i=JSON.parse(e),r=0;r<i.length;r++)if(i[r].country===a){t=i[r];break}var o=window.location.origin+window.location.pathname+"?country="+a+"&id="+t.ID;window.location.href=o}).fail(function(e,t,a){console.log(e),console.log(t),console.log(a)})}});var a=document.querySelector(".overseas-partners");a&&a.addEventListener("click",e)}),$=jQuery,$(document).ready(function(){$("#super-slider").superslides({play:5e3,animation:"fade",animation_speed:1200});$(".slide__numbers li").on("click",function(){var e=$(this).text(),t=parseInt(e.replace("0","").replace(".",""))-1;$("#super-slider").superslides("animate",t)}),$(".slide__arrow--down").on("click",function(){var e=$(window).height(),t=e-50;$("body").animate({scrollTop:t},1100)})}),$(document).ready(function(){$("#user_login").attr("placeholder","Username or Email"),$("#user_pass").attr("placeholder","Password"),$("body").hasClass("page-template-inspiration")&&($(".fts-twitter-link-image").each(function(e,t){$(t).append('<i class="icon-crucial-instagram"></i>')}),$(".fts-instagram-wrapper").each(function(e,t){$(t).append('<i class="icon-crucial-instagram"></i>')}),$(".fts-twitter-text").each(function(e,t){$(t).append('<div class="twitter-shadow"></div>')})),$(document).on("click","#close-basket-popup",function(e){return e.preventDefault(),e.stopPropagation(),$(".basketPopup").hide(),!1})});
//# sourceMappingURL=maps/master.min.js.map
