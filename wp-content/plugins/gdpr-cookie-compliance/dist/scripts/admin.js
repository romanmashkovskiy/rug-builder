!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.postscribe=e():t.postscribe=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=o.default},function(t,e,n){"use strict";function r(){}function o(){var t=f.shift();if(t){var e=u.last(t);e.afterDequeue(),t.stream=i.apply(void 0,t),e.afterStreamStart()}}function i(t,e,n){function i(t){t=n.beforeWrite(t),m.write(t),n.afterWrite(t)}m=new c.default(t,n),m.id=p++,m.name=n.name||m.id,s.streams[m.name]=m;var l=t.ownerDocument,d={close:l.close,open:l.open,write:l.write,writeln:l.writeln};a(l,{close:r,open:r,write:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(e.join(""))},writeln:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i(e.join("")+"\n")}});var u=m.win.onerror||r;return m.win.onerror=function(t,e,r){n.error({msg:t+" - "+e+": "+r}),u.apply(m.win,[t,e,r])},m.write(e,function(){a(l,d),m.win.onerror=u,n.done(),m=null,o()}),m}function s(t,e,n){if(u.isFunction(n))n={done:n};else if("clear"===n)return f=[],m=null,void(p=0);n=u.defaults(n,h),t=/^#/.test(t)?window.document.getElementById(t.substr(1)):t.jquery?t[0]:t;var i=[t,e,n];return t.postscribe={cancel:function(){i.stream?i.stream.abort():i[1]=r}},n.beforeEnqueue(i),f.push(i),m||o(),t.postscribe}e.__esModule=!0;var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=s;var l=n(2),c=function(t){return t&&t.__esModule?t:{default:t}}(l),d=n(4),u=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),h={afterAsync:r,afterDequeue:r,afterStreamStart:r,afterWrite:r,autoFix:!0,beforeEnqueue:r,beforeWriteToken:function(t){return t},beforeWrite:function(t){return t},done:r,error:function(t){throw new Error(t.msg)},releaseAsync:!1},p=0,f=[],m=null;a(s,{streams:{},queue:f,WriteStream:c.default})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){var n=u+e,r=t.getAttribute(n);return d.existy(r)?String(r):r}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=u+e;d.existy(n)&&""!==n?t.setAttribute(r,n):t.removeAttribute(r)}e.__esModule=!0;var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a=n(3),l=function(t){return t&&t.__esModule?t:{default:t}}(a),c=n(4),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(c),u="data-ps-",h="ps-style",p="ps-script",f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.root=e,this.options=n,this.doc=e.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new l.default("",{autoFix:n.autoFix}),this.actuals=[e],this.proxyHistory="",this.proxyRoot=this.doc.createElement(e.nodeName),this.scriptStack=[],this.writeQueue=[],i(this.proxyRoot,"proxyof",0)}return t.prototype.write=function(){var t;for((t=this.writeQueue).push.apply(t,arguments);!this.deferredRemote&&this.writeQueue.length;){var e=this.writeQueue.shift();d.isFunction(e)?this._callFunction(e):this._writeImpl(e)}},t.prototype._callFunction=function(t){var e={type:"function",value:t.name||t.toString()};this._onScriptStart(e),t.call(this.win,this.doc),this._onScriptDone(e)},t.prototype._writeImpl=function(t){this.parser.append(t);for(var e=void 0,n=void 0,r=void 0,o=[];(e=this.parser.readToken())&&!(n=d.isScript(e))&&!(r=d.isStyle(e));)(e=this.options.beforeWriteToken(e))&&o.push(e);o.length>0&&this._writeStaticTokens(o),n&&this._handleScriptToken(e),r&&this._handleStyleToken(e)},t.prototype._writeStaticTokens=function(t){var e=this._buildChunk(t);return e.actual?(e.html=this.proxyHistory+e.actual,this.proxyHistory+=e.proxy,this.proxyRoot.innerHTML=e.html,this._walkChunk(),e):null},t.prototype._buildChunk=function(t){for(var e=this.actuals.length,n=[],r=[],o=[],i=t.length,s=0;s<i;s++){var a=t[s],l=a.toString();if(n.push(l),a.attrs){if(!/^noscript$/i.test(a.tagName)){var c=e++;r.push(l.replace(/(\/?>)/," "+u+"id="+c+" $1")),a.attrs.id!==p&&a.attrs.id!==h&&o.push("atomicTag"===a.type?"":"<"+a.tagName+" "+u+"proxyof="+c+(a.unary?" />":">"))}}else r.push(l),o.push("endTag"===a.type?l:"")}return{tokens:t,raw:n.join(""),actual:r.join(""),proxy:o.join("")}},t.prototype._walkChunk=function(){for(var t=void 0,e=[this.proxyRoot];d.existy(t=e.shift());){var n=1===t.nodeType;if(!(n&&o(t,"proxyof"))){n&&(this.actuals[o(t,"id")]=t,i(t,"id"));var r=t.parentNode&&o(t.parentNode,"proxyof");r&&this.actuals[r].appendChild(t)}e.unshift.apply(e,d.toArray(t.childNodes))}},t.prototype._handleScriptToken=function(t){var e=this,n=this.parser.clear();n&&this.writeQueue.unshift(n),t.src=t.attrs.src||t.attrs.SRC,(t=this.options.beforeWriteToken(t))&&(t.src&&this.scriptStack.length?this.deferredRemote=t:this._onScriptStart(t),this._writeScriptToken(t,function(){e._onScriptDone(t)}))},t.prototype._handleStyleToken=function(t){var e=this.parser.clear();e&&this.writeQueue.unshift(e),t.type=t.attrs.type||t.attrs.TYPE||"text/css",t=this.options.beforeWriteToken(t),t&&this._writeStyleToken(t),e&&this.write()},t.prototype._writeStyleToken=function(t){var e=this._buildStyle(t);this._insertCursor(e,h),t.content&&(e.styleSheet&&!e.sheet?e.styleSheet.cssText=t.content:e.appendChild(this.doc.createTextNode(t.content)))},t.prototype._buildStyle=function(t){var e=this.doc.createElement(t.tagName);return e.setAttribute("type",t.type),d.eachKey(t.attrs,function(t,n){e.setAttribute(t,n)}),e},t.prototype._insertCursor=function(t,e){this._writeImpl('<span id="'+e+'"/>');var n=this.doc.getElementById(e);n&&n.parentNode.replaceChild(t,n)},t.prototype._onScriptStart=function(t){t.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(t)},t.prototype._onScriptDone=function(t){return t!==this.scriptStack[0]?void this.options.error({msg:"Bad script nesting or script finished twice"}):(this.scriptStack.shift(),this.write.apply(this,t.outerWrites),void(!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)))},t.prototype._writeScriptToken=function(t,e){var n=this._buildScript(t),r=this._shouldRelease(n),o=this.options.afterAsync;t.src&&(n.src=t.src,this._scriptLoadHandler(n,r?o:function(){e(),o()}));try{this._insertCursor(n,p),n.src&&!r||e()}catch(t){this.options.error(t),e()}},t.prototype._buildScript=function(t){var e=this.doc.createElement(t.tagName);return d.eachKey(t.attrs,function(t,n){e.setAttribute(t,n)}),t.content&&(e.text=t.content),e},t.prototype._scriptLoadHandler=function(t,e){function n(){t=t.onload=t.onreadystatechange=t.onerror=null}function r(){n(),null!=e&&e(),e=null}function o(t){n(),a(t),null!=e&&e(),e=null}function i(t,e){var n=t["on"+e];null!=n&&(t["_on"+e]=n)}var a=this.options.error;i(t,"load"),i(t,"error"),s(t,{onload:function(){if(t._onload)try{t._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){o({msg:"onload handler failed "+e+" @ "+t.src})}r()},onerror:function(){if(t._onerror)try{t._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(e){return void o({msg:"onerror handler failed "+e+" @ "+t.src})}o({msg:"remote script failed "+t.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(t.readyState)&&r()}})},t.prototype._shouldRelease=function(t){return!/^script$/i.test(t.nodeName)||!!(this.options.releaseAsync&&t.src&&t.hasAttribute("async"))},t}();e.default=f},function(t,e,n){!function(e,n){t.exports=function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(1),o=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=o.default},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(2),s=r(i),a=n(3),l=r(a),c=n(6),d=function(t){return t&&t.__esModule?t:{default:t}}(c),u=n(5),h={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},p=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,t),this.stream=n;var i=!1,a={};for(var l in s)s.hasOwnProperty(l)&&(r.autoFix&&(a[l+"Fix"]=!0),i=i||a[l+"Fix"]);i?(this._readToken=(0,d.default)(this,a,function(){return e._readTokenImpl()}),this._peekToken=(0,d.default)(this,a,function(){return e._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return t.prototype.append=function(t){this.stream+=t},t.prototype.prepend=function(t){this.stream=t+this.stream},t.prototype._readTokenImpl=function(){var t=this._peekTokenImpl();if(t)return this.stream=this.stream.slice(t.length),t},t.prototype._peekTokenImpl=function(){for(var t in h)if(h.hasOwnProperty(t)&&h[t].test(this.stream)){var e=l[t](this.stream);if(e)return"startTag"===e.type&&/script|style/i.test(e.tagName)?null:(e.text=this.stream.substr(0,e.length),e)}},t.prototype.peekToken=function(){return this._peekToken()},t.prototype.readToken=function(){return this._readToken()},t.prototype.readTokens=function(t){for(var e=void 0;e=this.readToken();)if(t[e.type]&&!1===t[e.type](e))return},t.prototype.clear=function(){var t=this.stream;return this.stream="",t},t.prototype.rest=function(){return this.stream},t}();e.default=p,p.tokenToString=function(t){return t.toString()},p.escapeAttributes=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=(0,u.escapeQuotes)(t[n],null));return e},p.supports=s;for(var f in s)s.hasOwnProperty(f)&&(p.browserHasFlaw=p.browserHasFlaw||!s[f]&&f)},function(t,e){"use strict";e.__esModule=!0;var n=!1,r=!1,o=window.document.createElement("div");try{var i="<P><I></P></I>";o.innerHTML=i,e.tagSoup=n=o.innerHTML!==i}catch(t){e.tagSoup=n=!1}try{o.innerHTML="<P><i><P></P></i></P>",e.selfClose=r=2===o.childNodes.length}catch(t){e.selfClose=r=!1}o=null,e.tagSoup=n,e.selfClose=r},function(t,e,n){"use strict";function r(t){var e=t.indexOf("--\x3e");if(e>=0)return new c.CommentToken(t.substr(4,e-1),e+3)}function o(t){var e=t.indexOf("<");return new c.CharsToken(e>=0?e:t.length)}function i(t){if(-1!==t.indexOf(">")){var e=t.match(d.startTag);if(e){var n=function(){var t={},n={},r=e[2];return e[2].replace(d.attr,function(e,o){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(t[arguments[5]]="",n[arguments[5]]=!0):t[o]=arguments[2]||arguments[3]||arguments[4]||d.fillAttr.test(o)&&o||"":t[o]="",r=r.replace(e,"")}),{v:new c.StartTagToken(e[1],e[0].length,t,n,!!e[3],r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))}}();if("object"===(void 0===n?"undefined":l(n)))return n.v}}}function s(t){var e=i(t);if(e){var n=t.slice(e.length);if(n.match(new RegExp("</\\s*"+e.tagName+"\\s*>","i"))){var r=n.match(new RegExp("([\\s\\S]*?)</\\s*"+e.tagName+"\\s*>","i"));if(r)return new c.AtomicTagToken(e.tagName,r[0].length+e.length,e.attrs,e.booleanAttrs,r[1])}}}function a(t){var e=t.match(d.endTag);if(e)return new c.EndTagToken(e[1],e[0].length)}e.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.comment=r,e.chars=o,e.startTag=i,e.atomicTag=s,e.endTag=a;var c=n(4),d={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.EndTagToken=e.AtomicTagToken=e.StartTagToken=e.TagToken=e.CharsToken=e.CommentToken=e.Token=void 0;var o=n(5),i=(e.Token=function t(e,n){r(this,t),this.type=e,this.length=n,this.text=""},e.CommentToken=function(){function t(e,n){r(this,t),this.type="comment",this.length=n||(e?e.length:0),this.text="",this.content=e}return t.prototype.toString=function(){return"\x3c!--"+this.content},t}(),e.CharsToken=function(){function t(e){r(this,t),this.type="chars",this.length=e,this.text=""}return t.prototype.toString=function(){return this.text},t}(),e.TagToken=function(){function t(e,n,o,i,s){r(this,t),this.type=e,this.length=o,this.text="",this.tagName=n,this.attrs=i,this.booleanAttrs=s,this.unary=!1,this.html5Unary=!1}return t.formatTag=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n="<"+t.tagName;for(var r in t.attrs)if(t.attrs.hasOwnProperty(r)){n+=" "+r;var i=t.attrs[r];void 0!==t.booleanAttrs&&void 0!==t.booleanAttrs[r]||(n+='="'+(0,o.escapeQuotes)(i)+'"')}return t.rest&&(n+=" "+t.rest),n+=t.unary&&!t.html5Unary?"/>":">",void 0!==e&&null!==e&&(n+=e+"</"+t.tagName+">"),n},t}());e.StartTagToken=function(){function t(e,n,o,i,s,a){r(this,t),this.type="startTag",this.length=n,this.text="",this.tagName=e,this.attrs=o,this.booleanAttrs=i,this.html5Unary=!1,this.unary=s,this.rest=a}return t.prototype.toString=function(){return i.formatTag(this)},t}(),e.AtomicTagToken=function(){function t(e,n,o,i,s){r(this,t),this.type="atomicTag",this.length=n,this.text="",this.tagName=e,this.attrs=o,this.booleanAttrs=i,this.unary=!1,this.html5Unary=!1,this.content=s}return t.prototype.toString=function(){return i.formatTag(this,this.content)},t}(),e.EndTagToken=function(){function t(e,n){r(this,t),this.type="endTag",this.length=n,this.text="",this.tagName=e}return t.prototype.toString=function(){return"</"+this.tagName+">"},t}()},function(t,e){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t?t.replace(/([^"]*)"/g,function(t,e){return/\\/.test(e)?e+'"':e+'\\"'}):e}e.__esModule=!0,e.escapeQuotes=n},function(t,e){"use strict";function n(t){return t&&"startTag"===t.type&&(t.unary=a.test(t.tagName)||t.unary,t.html5Unary=!/\/>$/.test(t.text)),t}function r(t,e){var r=t.stream,o=n(e());return t.stream=r,o}function o(t,e){var n=e.pop();t.prepend("</"+n.tagName+">")}function i(){var t=[];return t.last=function(){return this[this.length-1]},t.lastTagNameEq=function(t){var e=this.last();return e&&e.tagName&&e.tagName.toUpperCase()===t.toUpperCase()},t.containsTagName=function(t){for(var e,n=0;e=this[n];n++)if(e.tagName===t)return!0;return!1},t}function s(t,e,s){function a(){var e=r(t,s);e&&d[e.type]&&d[e.type](e)}var c=i(),d={startTag:function(n){var r=n.tagName;"TR"===r.toUpperCase()&&c.lastTagNameEq("TABLE")?(t.prepend("<TBODY>"),a()):e.selfCloseFix&&l.test(r)&&c.containsTagName(r)?c.lastTagNameEq(r)?o(t,c):(t.prepend("</"+n.tagName+">"),a()):n.unary||c.push(n)},endTag:function(n){c.last()?e.tagSoupFix&&!c.lastTagNameEq(n.tagName)?o(t,c):c.pop():e.tagSoupFix&&(s(),a())}};return function(){return a(),n(s())}}e.__esModule=!0,e.default=s;var a=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,l=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i}])}()}()},function(t,e){"use strict";function n(t){return void 0!==t&&null!==t}function r(t){return"function"==typeof t}function o(t,e,n){var r=void 0,o=t&&t.length||0;for(r=0;r<o;r++)e.call(n,t[r],r)}function i(t,e,n){for(var r in t)t.hasOwnProperty(r)&&e.call(n,r,t[r])}function s(t,e){return t=t||{},i(e,function(e,r){n(t[e])||(t[e]=r)}),t}function a(t){try{return Array.prototype.slice.call(t)}catch(n){var e=function(){var e=[];return o(t,function(t){e.push(t)}),{v:e}}();if("object"===(void 0===e?"undefined":h(e)))return e.v}}function l(t){return t[t.length-1]}function c(t,e){return!(!t||"startTag"!==t.type&&"atomicTag"!==t.type||!("tagName"in t)||!~t.tagName.toLowerCase().indexOf(e))}function d(t){return c(t,"script")}function u(t){return c(t,"style")}e.__esModule=!0;var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.existy=n,e.isFunction=r,e.each=o,e.eachKey=i,e.defaults=s,e.toArray=a,e.last=l,e.isTag=c,e.isScript=d,e.isStyle=u}])}),window.jscolor||(window.jscolor=function(){var t={register:function(){t.attachDOMReadyEvent(t.init),t.attachEvent(document,"mousedown",t.onDocumentMouseDown),t.attachEvent(document,"touchstart",t.onDocumentTouchStart),t.attachEvent(window,"resize",t.onWindowResize)},init:function(){t.jscolor.lookupClass&&t.jscolor.installByClassName(t.jscolor.lookupClass)},tryInstallOnElements:function(e,n){for(var r=new RegExp("(^|\\s)("+n+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),o=0;o<e.length;o+=1)if(void 0===e[o].type||"color"!==e[o].type.toLowerCase()||!t.isColorAttrSupported){var i;if(!e[o].jscolor&&e[o].className&&(i=e[o].className.match(r))){var s=e[o],a=null,l=t.getDataAttr(s,"jscolor");null!==l?a=l:i[4]&&(a=i[4]);var c={};if(a)try{c=new Function("return ("+a+")")()}catch(e){t.warn("Error parsing jscolor options: "+e+":\n"+a)}s.jscolor=new t.jscolor(s,c)}}},isColorAttrSupported:function(){var t=document.createElement("input");return!(!t.setAttribute||(t.setAttribute("type","color"),"color"!==t.type.toLowerCase()))}(),isCanvasSupported:function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}(),fetchElement:function(t){return"string"==typeof t?document.getElementById(t):t},isElementType:function(t,e){return t.nodeName.toLowerCase()===e.toLowerCase()},getDataAttr:function(t,e){var n="data-"+e,r=t.getAttribute(n);return null!==r?r:null},attachEvent:function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},detachEvent:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},_attachedGroupEvents:{},attachGroupEvent:function(e,n,r,o){t._attachedGroupEvents.hasOwnProperty(e)||(t._attachedGroupEvents[e]=[]),t._attachedGroupEvents[e].push([n,r,o]),t.attachEvent(n,r,o)},detachGroupEvents:function(e){if(t._attachedGroupEvents.hasOwnProperty(e)){for(var n=0;n<t._attachedGroupEvents[e].length;n+=1){var r=t._attachedGroupEvents[e][n];t.detachEvent(r[0],r[1],r[2])}delete t._attachedGroupEvents[e]}},attachDOMReadyEvent:function(t){var e=!1,n=function(){e||(e=!0,t())};if("complete"===document.readyState)return void setTimeout(n,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),n())}),window.attachEvent("onload",n),document.documentElement.doScroll&&window===window.top)){var r=function(){if(document.body)try{document.documentElement.doScroll("left"),n()}catch(t){setTimeout(r,1)}};r()}},warn:function(t){window.console&&window.console.warn&&window.console.warn(t)},preventDefault:function(t){t.preventDefault&&t.preventDefault(),t.returnValue=!1},captureTarget:function(e){e.setCapture&&(t._capturedTarget=e,t._capturedTarget.setCapture())},releaseTarget:function(){t._capturedTarget&&(t._capturedTarget.releaseCapture(),t._capturedTarget=null)},fireEvent:function(t,e){if(t){var n;document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0),t.dispatchEvent(n)):document.createEventObject?(n=document.createEventObject(),t.fireEvent("on"+e,n)):t["on"+e]&&t["on"+e]()}},classNameToList:function(t){return t.replace(/^\s+|\s+$/g,"").split(/\s+/)},hasClass:function(t,e){return!!e&&-1!==(" "+t.className.replace(/\s+/g," ")+" ").indexOf(" "+e+" ")},setClass:function(e,n){for(var r=t.classNameToList(n),o=0;o<r.length;o+=1)t.hasClass(e,r[o])||(e.className+=(e.className?" ":"")+r[o])},unsetClass:function(e,n){for(var r=t.classNameToList(n),o=0;o<r.length;o+=1){var i=new RegExp("^\\s*"+r[o]+"\\s*|\\s*"+r[o]+"\\s*$|\\s+"+r[o]+"(\\s+)","g");e.className=e.className.replace(i,"$1")}},getStyle:function(t){return window.getComputedStyle?window.getComputedStyle(t):t.currentStyle},setStyle:function(){var t=document.createElement("div"),e=function(e){for(var n=0;n<e.length;n+=1)if(e[n]in t.style)return e[n]},n={borderRadius:e(["borderRadius","MozBorderRadius","webkitBorderRadius"]),boxShadow:e(["boxShadow","MozBoxShadow","webkitBoxShadow"])};return function(t,e,r){switch(e.toLowerCase()){case"opacity":var o=Math.round(100*parseFloat(r));t.style.opacity=r,t.style.filter="alpha(opacity="+o+")";break;default:t.style[n[e]]=r}}}(),setBorderRadius:function(e,n){t.setStyle(e,"borderRadius",n||"0")},setBoxShadow:function(e,n){t.setStyle(e,"boxShadow",n||"none")},getElementPos:function(e,n){var r=0,o=0,i=e.getBoundingClientRect();if(r=i.left,o=i.top,!n){var s=t.getViewPos();r+=s[0],o+=s[1]}return[r,o]},getElementSize:function(t){return[t.offsetWidth,t.offsetHeight]},getAbsPointerPos:function(t){t||(t=window.event);var e=0,n=0;return void 0!==t.changedTouches&&t.changedTouches.length?(e=t.changedTouches[0].clientX,n=t.changedTouches[0].clientY):"number"==typeof t.clientX&&(e=t.clientX,n=t.clientY),{x:e,y:n}},getRelPointerPos:function(t){t||(t=window.event);var e=t.target||t.srcElement,n=e.getBoundingClientRect(),r=0,o=0,i=0,s=0;return void 0!==t.changedTouches&&t.changedTouches.length?(i=t.changedTouches[0].clientX,s=t.changedTouches[0].clientY):"number"==typeof t.clientX&&(i=t.clientX,s=t.clientY),r=i-n.left,o=s-n.top,{x:r,y:o}},getViewPos:function(){var t=document.documentElement;return[(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0),(window.pageYOffset||t.scrollTop)-(t.clientTop||0)]},getViewSize:function(){var t=document.documentElement;return[window.innerWidth||t.clientWidth,window.innerHeight||t.clientHeight]},redrawPosition:function(){if(t.picker&&t.picker.owner){var e,n,r=t.picker.owner;r.fixed?(e=t.getElementPos(r.targetElement,!0),n=[0,0]):(e=t.getElementPos(r.targetElement),n=t.getViewPos());var o,i,s,a=t.getElementSize(r.targetElement),l=t.getViewSize(),c=t.getPickerOuterDims(r);switch(r.position.toLowerCase()){case"left":o=1,i=0,s=-1;break;case"right":o=1,i=0,s=1;break;case"top":o=0,i=1,s=-1;break;default:o=0,i=1,s=1}var d,u=(a[i]+c[i])/2;d=r.smartPosition?[-n[o]+e[o]+c[o]>l[o]&&-n[o]+e[o]+a[o]/2>l[o]/2&&e[o]+a[o]-c[o]>=0?e[o]+a[o]-c[o]:e[o],-n[i]+e[i]+a[i]+c[i]-u+u*s>l[i]?-n[i]+e[i]+a[i]/2>l[i]/2&&e[i]+a[i]-u-u*s>=0?e[i]+a[i]-u-u*s:e[i]+a[i]-u+u*s:e[i]+a[i]-u+u*s>=0?e[i]+a[i]-u+u*s:e[i]+a[i]-u-u*s]:[e[o],e[i]+a[i]-u+u*s];var h=d[o],p=d[i],f=r.fixed?"fixed":"absolute",m=(d[0]+c[0]>e[0]||d[0]<e[0]+a[0])&&d[1]+c[1]<e[1]+a[1];t._drawPosition(r,h,p,f,m)}},_drawPosition:function(e,n,r,o,i){var s=i?0:e.shadowBlur;t.picker.wrap.style.position=o,t.picker.wrap.style.left=n+"px",t.picker.wrap.style.top=r+"px",t.setBoxShadow(t.picker.boxS,e.shadow?new t.BoxShadow(0,s,e.shadowBlur,0,e.shadowColor):null)},getPickerDims:function(e){var n=!!t.getSliderComponent(e);return[2*e.insetWidth+2*e.padding+e.width+(n?2*e.insetWidth+t.getPadToSliderPadding(e)+e.sliderSize:0),2*e.insetWidth+2*e.padding+e.height+(e.closable?2*e.insetWidth+e.padding+e.buttonHeight:0)]},getPickerOuterDims:function(e){var n=t.getPickerDims(e);return[n[0]+2*e.borderWidth,n[1]+2*e.borderWidth]},getPadToSliderPadding:function(t){return Math.max(t.padding,1.5*(2*t.pointerBorderWidth+t.pointerThickness))},getPadYComponent:function(t){switch(t.mode.charAt(1).toLowerCase()){case"v":return"v"}return"s"},getSliderComponent:function(t){if(t.mode.length>2)switch(t.mode.charAt(2).toLowerCase()){case"s":return"s";case"v":return"v"}return null},onDocumentMouseDown:function(e){e||(e=window.event);var n=e.target||e.srcElement;n._jscLinkedInstance?n._jscLinkedInstance.showOnClick&&n._jscLinkedInstance.show():n._jscControlName?t.onControlPointerStart(e,n,n._jscControlName,"mouse"):t.picker&&t.picker.owner&&t.picker.owner.hide()},onDocumentTouchStart:function(e){e||(e=window.event);var n=e.target||e.srcElement;n._jscLinkedInstance?n._jscLinkedInstance.showOnClick&&n._jscLinkedInstance.show():n._jscControlName?t.onControlPointerStart(e,n,n._jscControlName,"touch"):t.picker&&t.picker.owner&&t.picker.owner.hide()},onWindowResize:function(e){t.redrawPosition()},onParentScroll:function(e){t.picker&&t.picker.owner&&t.picker.owner.hide()},_pointerMoveEvent:{mouse:"mousemove",touch:"touchmove"},_pointerEndEvent:{mouse:"mouseup",touch:"touchend"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(e,n,r,o){var i=n._jscInstance;t.preventDefault(e),t.captureTarget(n);var s=function(i,s){t.attachGroupEvent("drag",i,t._pointerMoveEvent[o],t.onDocumentPointerMove(e,n,r,o,s)),t.attachGroupEvent("drag",i,t._pointerEndEvent[o],t.onDocumentPointerEnd(e,n,r,o))};if(s(document,[0,0]),window.parent&&window.frameElement){var a=window.frameElement.getBoundingClientRect(),l=[-a.left,-a.top];s(window.parent.window.document,l)}var c=t.getAbsPointerPos(e),d=t.getRelPointerPos(e);switch(t._pointerOrigin={x:c.x-d.x,y:c.y-d.y},r){case"pad":switch(t.getSliderComponent(i)){case"s":0===i.hsv[1]&&i.fromHSV(null,100,null);break;case"v":0===i.hsv[2]&&i.fromHSV(null,null,100)}t.setPad(i,e,0,0);break;case"sld":t.setSld(i,e,0)}t.dispatchFineChange(i)},onDocumentPointerMove:function(e,n,r,o,i){return function(e){var o=n._jscInstance;switch(r){case"pad":e||(e=window.event),t.setPad(o,e,i[0],i[1]),t.dispatchFineChange(o);break;case"sld":e||(e=window.event),t.setSld(o,e,i[1]),t.dispatchFineChange(o)}}},onDocumentPointerEnd:function(e,n,r,o){return function(e){var r=n._jscInstance;t.detachGroupEvents("drag"),t.releaseTarget(),t.dispatchChange(r)}},dispatchChange:function(e){e.valueElement&&t.isElementType(e.valueElement,"input")&&t.fireEvent(e.valueElement,"change")},dispatchFineChange:function(t){if(t.onFineChange){var e;e="string"==typeof t.onFineChange?new Function(t.onFineChange):t.onFineChange,e.call(t)}},setPad:function(e,n,r,o){var i=t.getAbsPointerPos(n),s=r+i.x-t._pointerOrigin.x-e.padding-e.insetWidth,a=o+i.y-t._pointerOrigin.y-e.padding-e.insetWidth,l=s*(360/(e.width-1)),c=100-a*(100/(e.height-1));switch(t.getPadYComponent(e)){case"s":e.fromHSV(l,c,null,t.leaveSld);break;case"v":e.fromHSV(l,null,c,t.leaveSld)}},setSld:function(e,n,r){var o=t.getAbsPointerPos(n),i=r+o.y-t._pointerOrigin.y-e.padding-e.insetWidth,s=100-i*(100/(e.height-1));switch(t.getSliderComponent(e)){case"s":e.fromHSV(null,s,null,t.leavePad);break;case"v":e.fromHSV(null,null,s,t.leavePad)}},_vmlNS:"jsc_vml_",_vmlCSS:"jsc_vml_css_",_vmlReady:!1,initVML:function(){if(!t._vmlReady){var e=document;if(e.namespaces[t._vmlNS]||e.namespaces.add(t._vmlNS,"urn:schemas-microsoft-com:vml"),!e.styleSheets[t._vmlCSS]){var n=["shape","shapetype","group","background","path","formulas","handles","fill","stroke","shadow","textbox","textpath","imagedata","line","polyline","curve","rect","roundrect","oval","arc","image"],r=e.createStyleSheet();r.owningElement.id=t._vmlCSS;for(var o=0;o<n.length;o+=1)r.addRule(t._vmlNS+"\\:"+n[o],"behavior:url(#default#VML);")}t._vmlReady=!0}},createPalette:function(){var e={elm:null,draw:null};if(t.isCanvasSupported){var n=document.createElement("canvas"),r=n.getContext("2d"),o=function(t,e,o){n.width=t,n.height=e,r.clearRect(0,0,n.width,n.height);var i=r.createLinearGradient(0,0,n.width,0);i.addColorStop(0,"#F00"),i.addColorStop(1/6,"#FF0"),i.addColorStop(2/6,"#0F0"),i.addColorStop(.5,"#0FF"),i.addColorStop(4/6,"#00F"),i.addColorStop(5/6,"#F0F"),i.addColorStop(1,"#F00"),r.fillStyle=i,r.fillRect(0,0,n.width,n.height);var s=r.createLinearGradient(0,0,0,n.height);switch(o.toLowerCase()){case"s":s.addColorStop(0,"rgba(255,255,255,0)"),s.addColorStop(1,"rgba(255,255,255,1)");break;case"v":s.addColorStop(0,"rgba(0,0,0,0)"),s.addColorStop(1,"rgba(0,0,0,1)")}r.fillStyle=s,r.fillRect(0,0,n.width,n.height)};e.elm=n,e.draw=o}else{t.initVML();var i=document.createElement("div");i.style.position="relative",i.style.overflow="hidden";var s=document.createElement(t._vmlNS+":fill");s.type="gradient",s.method="linear",s.angle="90",s.colors="16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0";var a=document.createElement(t._vmlNS+":rect");a.style.position="absolute",a.style.left="-1px",a.style.top="-1px",a.stroked=!1,a.appendChild(s),i.appendChild(a);var l=document.createElement(t._vmlNS+":fill");l.type="gradient",l.method="linear",l.angle="180",l.opacity="0";var c=document.createElement(t._vmlNS+":rect");c.style.position="absolute",c.style.left="-1px",c.style.top="-1px",c.stroked=!1,c.appendChild(l),i.appendChild(c);var o=function(t,e,n){switch(i.style.width=t+"px",i.style.height=e+"px",a.style.width=c.style.width=t+1+"px",a.style.height=c.style.height=e+1+"px",s.color="#F00",s.color2="#F00",n.toLowerCase()){case"s":l.color=l.color2="#FFF";break;case"v":l.color=l.color2="#000"}};e.elm=i,e.draw=o}return e},createSliderGradient:function(){var e={elm:null,draw:null};if(t.isCanvasSupported){var n=document.createElement("canvas"),r=n.getContext("2d"),o=function(t,e,o,i){n.width=t,n.height=e,r.clearRect(0,0,n.width,n.height);var s=r.createLinearGradient(0,0,0,n.height);s.addColorStop(0,o),s.addColorStop(1,i),r.fillStyle=s,r.fillRect(0,0,n.width,n.height)};e.elm=n,e.draw=o}else{t.initVML();var i=document.createElement("div");i.style.position="relative",i.style.overflow="hidden";var s=document.createElement(t._vmlNS+":fill");s.type="gradient",s.method="linear",s.angle="180";var a=document.createElement(t._vmlNS+":rect");a.style.position="absolute",a.style.left="-1px",a.style.top="-1px",a.stroked=!1,a.appendChild(s),i.appendChild(a);var o=function(t,e,n,r){i.style.width=t+"px",i.style.height=e+"px",a.style.width=t+1+"px",a.style.height=e+1+"px",s.color=n,s.color2=r};e.elm=i,e.draw=o}return e},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:function(){var t=function(t,e,n,r,o,i){this.hShadow=t,this.vShadow=e,this.blur=n,this.spread=r,this.color=o,this.inset=!!i};return t.prototype.toString=function(){var t=[Math.round(this.hShadow)+"px",Math.round(this.vShadow)+"px",Math.round(this.blur)+"px",Math.round(this.spread)+"px",this.color];return this.inset&&t.push("inset"),t.join(" ")},t}(),jscolor:function(e,n){function r(t,e,n){t/=255,e/=255,n/=255;var r=Math.min(Math.min(t,e),n),o=Math.max(Math.max(t,e),n),i=o-r;if(0===i)return[null,0,100*o];var s=t===r?3+(n-e)/i:e===r?5+(t-n)/i:1+(e-t)/i;return[60*(6===s?0:s),i/o*100,100*o]}function o(t,e,n){var r=n/100*255;if(null===t)return[r,r,r];t/=60,e/=100;var o=Math.floor(t),i=o%2?t-o:1-(t-o),s=r*(1-e),a=r*(1-e*i);switch(o){case 6:case 0:return[r,a,s];case 1:return[a,r,s];case 2:return[s,r,a];case 3:return[s,a,r];case 4:return[a,s,r];case 5:return[r,s,a]}}function i(){t.unsetClass(f.targetElement,f.activeClass),t.picker.wrap.parentNode.removeChild(t.picker.wrap),delete t.picker.owner}function s(){f._processParentElementsInDOM(),t.picker||(t.picker={owner:null,wrap:document.createElement("div"),box:document.createElement("div"),
boxS:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),padPal:t.createPalette(),cross:document.createElement("div"),crossBY:document.createElement("div"),crossBX:document.createElement("div"),crossLY:document.createElement("div"),crossLX:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),sldGrad:t.createSliderGradient(),sldPtrS:document.createElement("div"),sldPtrIB:document.createElement("div"),sldPtrMB:document.createElement("div"),sldPtrOB:document.createElement("div"),btn:document.createElement("div"),btnT:document.createElement("span")},t.picker.pad.appendChild(t.picker.padPal.elm),t.picker.padB.appendChild(t.picker.pad),t.picker.cross.appendChild(t.picker.crossBY),t.picker.cross.appendChild(t.picker.crossBX),t.picker.cross.appendChild(t.picker.crossLY),t.picker.cross.appendChild(t.picker.crossLX),t.picker.padB.appendChild(t.picker.cross),t.picker.box.appendChild(t.picker.padB),t.picker.box.appendChild(t.picker.padM),t.picker.sld.appendChild(t.picker.sldGrad.elm),t.picker.sldB.appendChild(t.picker.sld),t.picker.sldB.appendChild(t.picker.sldPtrOB),t.picker.sldPtrOB.appendChild(t.picker.sldPtrMB),t.picker.sldPtrMB.appendChild(t.picker.sldPtrIB),t.picker.sldPtrIB.appendChild(t.picker.sldPtrS),t.picker.box.appendChild(t.picker.sldB),t.picker.box.appendChild(t.picker.sldM),t.picker.btn.appendChild(t.picker.btnT),t.picker.box.appendChild(t.picker.btn),t.picker.boxB.appendChild(t.picker.box),t.picker.wrap.appendChild(t.picker.boxS),t.picker.wrap.appendChild(t.picker.boxB));var e=t.picker,n=!!t.getSliderComponent(f),r=t.getPickerDims(f),o=2*f.pointerBorderWidth+f.pointerThickness+2*f.crossSize,i=t.getPadToSliderPadding(f),s=Math.min(f.borderRadius,Math.round(f.padding*Math.PI));e.wrap.style.clear="both",e.wrap.style.width=r[0]+2*f.borderWidth+"px",e.wrap.style.height=r[1]+2*f.borderWidth+"px",e.wrap.style.zIndex=f.zIndex,e.box.style.width=r[0]+"px",e.box.style.height=r[1]+"px",e.boxS.style.position="absolute",e.boxS.style.left="0",e.boxS.style.top="0",e.boxS.style.width="100%",e.boxS.style.height="100%",t.setBorderRadius(e.boxS,s+"px"),e.boxB.style.position="relative",e.boxB.style.border=f.borderWidth+"px solid",e.boxB.style.borderColor=f.borderColor,e.boxB.style.background=f.backgroundColor,t.setBorderRadius(e.boxB,s+"px"),e.padM.style.background=e.sldM.style.background="#FFF",t.setStyle(e.padM,"opacity","0"),t.setStyle(e.sldM,"opacity","0"),e.pad.style.position="relative",e.pad.style.width=f.width+"px",e.pad.style.height=f.height+"px",e.padPal.draw(f.width,f.height,t.getPadYComponent(f)),e.padB.style.position="absolute",e.padB.style.left=f.padding+"px",e.padB.style.top=f.padding+"px",e.padB.style.border=f.insetWidth+"px solid",e.padB.style.borderColor=f.insetColor,e.padM._jscInstance=f,e.padM._jscControlName="pad",e.padM.style.position="absolute",e.padM.style.left="0",e.padM.style.top="0",e.padM.style.width=f.padding+2*f.insetWidth+f.width+i/2+"px",e.padM.style.height=r[1]+"px",e.padM.style.cursor="crosshair",e.cross.style.position="absolute",e.cross.style.left=e.cross.style.top="0",e.cross.style.width=e.cross.style.height=o+"px",e.crossBY.style.position=e.crossBX.style.position="absolute",e.crossBY.style.background=e.crossBX.style.background=f.pointerBorderColor,e.crossBY.style.width=e.crossBX.style.height=2*f.pointerBorderWidth+f.pointerThickness+"px",e.crossBY.style.height=e.crossBX.style.width=o+"px",e.crossBY.style.left=e.crossBX.style.top=Math.floor(o/2)-Math.floor(f.pointerThickness/2)-f.pointerBorderWidth+"px",e.crossBY.style.top=e.crossBX.style.left="0",e.crossLY.style.position=e.crossLX.style.position="absolute",e.crossLY.style.background=e.crossLX.style.background=f.pointerColor,e.crossLY.style.height=e.crossLX.style.width=o-2*f.pointerBorderWidth+"px",e.crossLY.style.width=e.crossLX.style.height=f.pointerThickness+"px",e.crossLY.style.left=e.crossLX.style.top=Math.floor(o/2)-Math.floor(f.pointerThickness/2)+"px",e.crossLY.style.top=e.crossLX.style.left=f.pointerBorderWidth+"px",e.sld.style.overflow="hidden",e.sld.style.width=f.sliderSize+"px",e.sld.style.height=f.height+"px",e.sldGrad.draw(f.sliderSize,f.height,"#000","#000"),e.sldB.style.display=n?"block":"none",e.sldB.style.position="absolute",e.sldB.style.right=f.padding+"px",e.sldB.style.top=f.padding+"px",e.sldB.style.border=f.insetWidth+"px solid",e.sldB.style.borderColor=f.insetColor,e.sldM._jscInstance=f,e.sldM._jscControlName="sld",e.sldM.style.display=n?"block":"none",e.sldM.style.position="absolute",e.sldM.style.right="0",e.sldM.style.top="0",e.sldM.style.width=f.sliderSize+i/2+f.padding+2*f.insetWidth+"px",e.sldM.style.height=r[1]+"px",e.sldM.style.cursor="default",e.sldPtrIB.style.border=e.sldPtrOB.style.border=f.pointerBorderWidth+"px solid "+f.pointerBorderColor,e.sldPtrOB.style.position="absolute",e.sldPtrOB.style.left=-(2*f.pointerBorderWidth+f.pointerThickness)+"px",e.sldPtrOB.style.top="0",e.sldPtrMB.style.border=f.pointerThickness+"px solid "+f.pointerColor,e.sldPtrS.style.width=f.sliderSize+"px",e.sldPtrS.style.height=v+"px",e.btn.style.display=f.closable?"block":"none",e.btn.style.position="absolute",e.btn.style.left=f.padding+"px",e.btn.style.bottom=f.padding+"px",e.btn.style.padding="0 15px",e.btn.style.height=f.buttonHeight+"px",e.btn.style.border=f.insetWidth+"px solid",function(){var t=f.insetColor.split(/\s+/),n=t.length<2?t[0]:t[1]+" "+t[0]+" "+t[0]+" "+t[1];e.btn.style.borderColor=n}(),e.btn.style.color=f.buttonColor,e.btn.style.font="12px sans-serif",e.btn.style.textAlign="center";try{e.btn.style.cursor="pointer"}catch(t){e.btn.style.cursor="hand"}e.btn.onmousedown=function(){f.hide()},e.btnT.style.lineHeight=f.buttonHeight+"px",e.btnT.innerHTML="",e.btnT.appendChild(document.createTextNode(f.closeText)),a(),l(),t.picker.owner&&t.picker.owner!==f&&t.unsetClass(t.picker.owner.targetElement,f.activeClass),t.picker.owner=f,t.isElementType(m,"body")?t.redrawPosition():t._drawPosition(f,0,0,"relative",!1),e.wrap.parentNode!=m&&m.appendChild(e.wrap),t.setClass(f.targetElement,f.activeClass)}function a(){switch(t.getPadYComponent(f)){case"s":var e=1;break;case"v":var e=2}var n=Math.round(f.hsv[0]/360*(f.width-1)),r=Math.round((1-f.hsv[e]/100)*(f.height-1)),i=2*f.pointerBorderWidth+f.pointerThickness+2*f.crossSize,s=-Math.floor(i/2);switch(t.picker.cross.style.left=n+s+"px",t.picker.cross.style.top=r+s+"px",t.getSliderComponent(f)){case"s":var a=o(f.hsv[0],100,f.hsv[2]),l=o(f.hsv[0],0,f.hsv[2]),c="rgb("+Math.round(a[0])+","+Math.round(a[1])+","+Math.round(a[2])+")",d="rgb("+Math.round(l[0])+","+Math.round(l[1])+","+Math.round(l[2])+")";t.picker.sldGrad.draw(f.sliderSize,f.height,c,d);break;case"v":var u=o(f.hsv[0],f.hsv[1],100),c="rgb("+Math.round(u[0])+","+Math.round(u[1])+","+Math.round(u[2])+")",d="#000";t.picker.sldGrad.draw(f.sliderSize,f.height,c,d)}}function l(){var e=t.getSliderComponent(f);if(e){switch(e){case"s":var n=1;break;case"v":var n=2}var r=Math.round((1-f.hsv[n]/100)*(f.height-1));t.picker.sldPtrOB.style.top=r-(2*f.pointerBorderWidth+f.pointerThickness)-Math.floor(v/2)+"px"}}function c(){return t.picker&&t.picker.owner===f}function d(){f.importColor()}this.value=null,this.valueElement=e,this.styleElement=e,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass="jscolor-active",this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode="HSV",this.position="bottom",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText="Close",this.buttonColor="#000000",this.buttonHeight=18,this.padding=12,this.backgroundColor="#FFFFFF",this.borderWidth=1,this.borderColor="#BBBBBB",this.borderRadius=8,this.insetWidth=1,this.insetColor="#BBBBBB",this.shadow=!0,this.shadowBlur=15,this.shadowColor="rgba(0,0,0,0.2)",this.pointerColor="#4C4C4C",this.pointerBorderColor="#FFFFFF",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1e3,this.container=null;for(var u in n)n.hasOwnProperty(u)&&(this[u]=n[u]);if(this.hide=function(){c()&&i()},this.show=function(){s()},this.redraw=function(){c()&&s()},this.importColor=function(){this.valueElement&&t.isElementType(this.valueElement,"input")?this.refine?!this.required&&/^\s*$/.test(this.valueElement.value)?(this.valueElement.value="",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(t.leaveValue|t.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,t.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(t.leaveValue|t.leaveStyle)):this.exportColor()},this.exportColor=function(e){if(!(e&t.leaveValue)&&this.valueElement){var n=this.toString();this.uppercase&&(n=n.toUpperCase()),this.hash&&(n="#"+n),t.isElementType(this.valueElement,"input")?this.valueElement.value=n:this.valueElement.innerHTML=n}e&t.leaveStyle||this.styleElement&&(this.styleElement.style.backgroundImage="none",this.styleElement.style.backgroundColor="#"+this.toString(),this.styleElement.style.color=this.isLight()?"#000":"#FFF"),e&t.leavePad||!c()||a(),e&t.leaveSld||!c()||l()},this.fromHSV=function(t,e,n,r){if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(360,t))}if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(100,this.maxS,e),this.minS)}if(null!==n){if(isNaN(n))return!1;n=Math.max(0,Math.min(100,this.maxV,n),this.minV)}this.rgb=o(null===t?this.hsv[0]:this.hsv[0]=t,null===e?this.hsv[1]:this.hsv[1]=e,null===n?this.hsv[2]:this.hsv[2]=n),this.exportColor(r)},this.fromRGB=function(t,e,n,i){if(null!==t){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(null!==e){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(null!==n){if(isNaN(n))return!1;n=Math.max(0,Math.min(255,n))}var s=r(null===t?this.rgb[0]:t,null===e?this.rgb[1]:e,null===n?this.rgb[2]:n);null!==s[0]&&(this.hsv[0]=Math.max(0,Math.min(360,s[0]))),0!==s[2]&&(this.hsv[1]=null===s[1]?null:Math.max(0,this.minS,Math.min(100,this.maxS,s[1]))),this.hsv[2]=null===s[2]?null:Math.max(0,this.minV,Math.min(100,this.maxV,s[2]));var a=o(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=a[0],this.rgb[1]=a[1],this.rgb[2]=a[2],this.exportColor(i)},this.fromString=function(t,e){var n;if(n=t.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i))return 6===n[1].length?this.fromRGB(parseInt(n[1].substr(0,2),16),parseInt(n[1].substr(2,2),16),parseInt(n[1].substr(4,2),16),e):this.fromRGB(parseInt(n[1].charAt(0)+n[1].charAt(0),16),parseInt(n[1].charAt(1)+n[1].charAt(1),16),parseInt(n[1].charAt(2)+n[1].charAt(2),16),e),!0;if(n=t.match(/^\W*rgba?\(([^)]*)\)\W*$/i)){var r,o,i,s=n[1].split(","),a=/^\s*(\d*)(\.\d+)?\s*$/;if(s.length>=3&&(r=s[0].match(a))&&(o=s[1].match(a))&&(i=s[2].match(a))){var l=parseFloat((r[1]||"0")+(r[2]||"")),c=parseFloat((o[1]||"0")+(o[2]||"")),d=parseFloat((i[1]||"0")+(i[2]||""));return this.fromRGB(l,c,d,e),!0}}return!1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return"#"+this.toString().toUpperCase()},this.toRGBString=function(){return"rgb("+Math.round(this.rgb[0])+","+Math.round(this.rgb[1])+","+Math.round(this.rgb[2])+")"},this.isLight=function(){return.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]>127.5},this._processParentElementsInDOM=function(){if(!this._linkedElementsProcessed){this._linkedElementsProcessed=!0;var e=this.targetElement;do{var n=t.getStyle(e);n&&"fixed"===n.position.toLowerCase()&&(this.fixed=!0),e!==this.targetElement&&(e._jscEventsAttached||(t.attachEvent(e,"scroll",t.onParentScroll),e._jscEventsAttached=!0))}while((e=e.parentNode)&&!t.isElementType(e,"body"))}},"string"==typeof e){var h=e,p=document.getElementById(h);p?this.targetElement=p:t.warn("Could not find target element with ID '"+h+"'")}else e?this.targetElement=e:t.warn("Invalid target element: '"+e+"'");if(this.targetElement._jscLinkedInstance)return void t.warn("Cannot link jscolor twice to the same element. Skipping.");this.targetElement._jscLinkedInstance=this,this.valueElement=t.fetchElement(this.valueElement),this.styleElement=t.fetchElement(this.styleElement);var f=this,m=this.container?t.fetchElement(this.container):document.getElementsByTagName("body")[0],v=3;if(t.isElementType(this.targetElement,"button"))if(this.targetElement.onclick){var y=this.targetElement.onclick;this.targetElement.onclick=function(t){return y.call(this,t),!1}}else this.targetElement.onclick=function(){return!1};if(this.valueElement&&t.isElementType(this.valueElement,"input")){var g=function(){f.fromString(f.valueElement.value,t.leaveValue),t.dispatchFineChange(f)};t.attachEvent(this.valueElement,"keyup",g),t.attachEvent(this.valueElement,"input",g),t.attachEvent(this.valueElement,"blur",d),this.valueElement.setAttribute("autocomplete","off")}this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}};return t.jscolor.lookupClass="jscolor",t.jscolor.installByClassName=function(e){var n=document.getElementsByTagName("input"),r=document.getElementsByTagName("button");t.tryInstallOnElements(n,e),t.tryInstallOnElements(r,e)},t.register(),t.jscolor}()),function(t){var e={common:{init:function(){t(document).on("keyup","input[name=moove_gdpr_company_logo]",function(){console.log("changed"),t(".moove_gdpr_company_logo_holder").css("background-image","url("+t(this).val()+")")}),t(document).on("click",'#moove_gdpr_tab_advanced_cookies button[type="submit"], #moove_gdpr_tab_third_party_cookies button[type="submit"]',function(e){var n=0,r=0;if(t(this).closest("form").find("textarea.large-text.code").each(function(){t.trim(t(this).val())||n++,r++}),r-n<1){e.preventDefault();var o=t(this).closest("form").find(".form-table").addClass("moove-gdpr-form-error").find(".alert.script-error").show();t("html, body").animate({scrollTop:o.offset().top-100},200)}})},finalize:function(){}},home:{init:function(){},finalize:function(){}},about_us:{init:function(){}}},n={fire:function(t,n,r){var o,i=e;n=void 0===n?"init":n,o=""!==t,o=o&&i[t],(o=o&&"function"==typeof i[t][n])&&i[t][n](r)},loadEvents:function(){n.fire("common"),t.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(t,e){n.fire(e),n.fire(e,"finalize")}),n.fire("common","finalize")}};t(document).ready(n.loadEvents)}(jQuery);